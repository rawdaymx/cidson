(()=>{var e={};e.id=510,e.ids=[510],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},4155:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>u});var t=a(60687),o=a(43210),n=a(16189),s=a(28559),i=a(8819),d=a(85814),c=a.n(d),l=a(48429);function u(){let e=(0,n.useRouter)(),r=(0,n.useParams)(),a=(0,n.useSearchParams)(),d="string"==typeof r.id?parseInt(r.id):Number(r.id),u=a.get("empresaId"),m=a.get("configuracionId"),p=a.get("returnTo"),[h,f]=(0,o.useState)({nombre:"",id:d,estado:!0,configuracion_id:m?parseInt(m):void 0}),[b,x]=(0,o.useState)({nombre:""}),[g,v]=(0,o.useState)(!0),[j,_]=(0,o.useState)(!1),y=()=>{let e=!0,r={nombre:""};return h.nombre.trim()||(r.nombre="El nombre de la zona es requerido",e=!1),x(r),e},w=async e=>{if(e.preventDefault(),y())try{if(_(!0),await l.i.update(d,{nombre:h.nombre.trim(),estado:h.estado,configuracion_id:h.configuracion_id}))E();else throw Error("No se pudo actualizar la zona")}catch(e){console.error("Error al actualizar la zona:",e),e instanceof Error&&"NOMBRE_DUPLICADO"===e.message?x({nombre:"El nombre de la zona ya existe. Por favor, utilice otro nombre."}):x({nombre:"Ocurri\xf3 un error al actualizar la zona. Por favor, intente nuevamente."}),_(!1)}},E=()=>{let r=new URLSearchParams;if(u&&r.append("empresaId",u),m&&r.append("configuracionId",m),p)e.push(p);else{let a=r.toString();e.push(`/zonas${a?`?${a}`:""}`)}};return g?(0,t.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-[#f4f6fb]",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"w-16 h-16 border-4 border-[#303e65] border-t-[#f5d433] rounded-full animate-spin mx-auto"}),(0,t.jsx)("p",{className:"mt-4 text-gray-600",children:"Cargando informaci\xf3n..."})]})}):(0,t.jsx)("div",{className:"bg-[#f4f6fb] min-h-screen",children:(0,t.jsxs)("div",{className:"pl-8 pr-6 py-6 max-w-[1200px]",children:[(0,t.jsxs)(c(),{href:p||"/zonas",className:"inline-flex items-center text-[#303e65] mb-6",children:[(0,t.jsx)(s.A,{className:"h-4 w-4 mr-2"}),"Regresar"]}),(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Editar registro"}),(0,t.jsx)("p",{className:"text-gray-600 mb-8",children:"Modifica la informaci\xf3n de la zona."}),(0,t.jsx)("div",{className:"bg-white rounded-xl p-8 shadow-sm max-w-[800px] mx-auto",children:(0,t.jsxs)("form",{onSubmit:w,children:[(0,t.jsx)("div",{className:"space-y-6",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("input",{type:"text",id:"nombre",name:"nombre",placeholder:"Nombre De La Zona",value:h.nombre,onChange:e=>{let{name:r,value:a}=e.target;f({...h,[r]:a}),b[r]&&x({...b,[r]:""})},className:`w-full h-12 px-4 bg-[#f4f6fb] rounded-md border-0 focus:ring-2 focus:ring-[#303e65] ${b.nombre?"ring-2 ring-red-500":""}`}),b.nombre&&(0,t.jsx)("p",{className:"mt-1 text-sm text-red-500",children:b.nombre})]})}),(0,t.jsx)("div",{className:"flex justify-end mt-8",children:(0,t.jsx)("button",{type:"submit",disabled:j,className:"flex items-center justify-center bg-[#f5d433] text-[#303e65] font-medium px-6 py-2.5 rounded-full hover:bg-[#f0ca20] transition-colors disabled:opacity-70",children:j?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"w-4 h-4 border-2 border-[#303e65] border-t-transparent rounded-full animate-spin mr-2"}),"Guardando..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.A,{className:"h-5 w-5 mr-2"}),"Guardar"]})})})]})})]})})}},8819:(e,r,a)=>{"use strict";a.d(r,{A:()=>t});let t=(0,a(62688).A)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},39870:(e,r,a)=>{"use strict";a.r(r),a.d(r,{GlobalError:()=>s.a,__next_app__:()=>u,pages:()=>l,routeModule:()=>m,tree:()=>c});var t=a(65239),o=a(48088),n=a(88170),s=a.n(n),i=a(30893),d={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>i[e]);a.d(r,d);let c={children:["",{children:["zonas",{children:["editar",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,74077)),"/Users/franciscojavierbarrerascebreros/Documents/MediaAerea/cidson/app/zonas/editar/[id]/page.tsx"]}]},{loading:[()=>Promise.resolve().then(a.bind(a,83326)),"/Users/franciscojavierbarrerascebreros/Documents/MediaAerea/cidson/app/zonas/editar/[id]/loading.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,58014)),"/Users/franciscojavierbarrerascebreros/Documents/MediaAerea/cidson/app/layout.tsx"],error:[()=>Promise.resolve().then(a.bind(a,52608)),"/Users/franciscojavierbarrerascebreros/Documents/MediaAerea/cidson/app/error.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(a.t.bind(a,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(a.t.bind(a,65284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,l=["/Users/franciscojavierbarrerascebreros/Documents/MediaAerea/cidson/app/zonas/editar/[id]/page.tsx"],u={require:a,loadChunk:()=>Promise.resolve()},m=new t.AppPageRouteModule({definition:{kind:o.RouteKind.APP_PAGE,page:"/zonas/editar/[id]/page",pathname:"/zonas/editar/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},48429:(e,r,a)=>{"use strict";a.d(r,{i:()=>o});var t=a(49278);class o{static async getAll(e,r={}){try{if(!e)return{data:[],links:{first:"",last:"",prev:null,next:null},meta:{current_page:1,from:0,last_page:1,links:[],path:"",per_page:10,to:0,total:0}};let a=`${t.nC.BASE_URL}/api/zonas/${e}`,o=new URLSearchParams;r.nombre&&o.append("nombre",r.nombre),void 0!==r.estado&&o.append("estado",r.estado.toString()),r.page&&o.append("page",r.page.toString());let n=o.toString();n&&(a=`${a}?${n}`);let s=(0,t.c4)(),i=await fetch(a,{method:"GET",headers:{Accept:"application/json",Authorization:`Bearer ${s}`}});if(!i.ok){let e=await i.text();try{let r=JSON.parse(e);if(r.message)throw Error(r.message)}catch(e){console.error("No se pudo parsear el error como JSON:",e)}throw Error(`Error al obtener zonas: ${i.status} - ${e}`)}return await i.json()}catch(e){throw console.error("Error en getAll de ZonaService:",e),e}}static async getById(e){try{let r=`${t.nC.BASE_URL}/api/zonas/show/${e}`,a=(0,t.c4)(),o=await fetch(r,{method:"GET",headers:{Accept:"application/json",Authorization:`Bearer ${a}`}});if(!o.ok)throw Error(`Error al obtener la zona: ${o.status}`);let n=await o.json();return{id:Number(n.data.id),nombre:n.data.nombre,estado:!!n.data.estado,fecha_creacion:n.data.fecha_creacion,configuracion_id:Number(n.data.configuracion_id)}}catch(e){throw console.error("Error al obtener zona:",e),e}}static async create(e){try{let r=`${t.nC.BASE_URL}/api/zonas/store/${e.configuracion_id}`,a=(0,t.c4)(),o=await fetch(r,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify({nombre:e.nombre})});if(!o.ok){let e=await o.json();if("NOMBRE_DUPLICADO"===e.message)throw Error("NOMBRE_DUPLICADO");throw Error(`Error al crear la zona: ${o.status}`)}let n=await o.json();return{id:Number(n.data.id),nombre:n.data.nombre,estado:!!n.data.estado,fecha_creacion:n.data.fecha_creacion,configuracion_id:Number(n.data.configuracion_id)}}catch(e){throw console.error("Error al crear zona:",e),e}}static async update(e,r){try{let a=`${t.nC.BASE_URL}/api/zonas/update/${e}`,o=(0,t.c4)(),n=await fetch(a,{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${o}`},body:JSON.stringify({nombre:r.nombre,estado:r.estado,configuracion_id:r.configuracion_id})});if(!n.ok){let e=await n.json();if("NOMBRE_DUPLICADO"===e.message)throw Error("NOMBRE_DUPLICADO");throw Error(`Error al actualizar la zona: ${n.status}`)}let s=await n.json();return{id:Number(s.data.id),nombre:s.data.nombre,estado:!!s.data.estado,fecha_creacion:s.data.fecha_creacion,configuracion_id:Number(s.data.configuracion_id)}}catch(e){throw console.error("Error al actualizar zona:",e),e}}static async toggleEstado(e){try{let r=`${t.nC.BASE_URL}/api/zonas/destroy/${e}`,a=(0,t.c4)(),o=await fetch(r,{method:"DELETE",headers:{Accept:"application/json",Authorization:`Bearer ${a}`}});if(!o.ok)throw Error(`Error al cambiar estado de la zona: ${o.status}`);let n=await o.json();return{id:Number(n.data.id),nombre:n.data.nombre,estado:!!n.data.estado,fecha_creacion:n.data.fecha_creacion,configuracion_id:Number(n.data.configuracion_id)}}catch(e){throw console.error("Error al cambiar estado de la zona:",e),e}}}},60536:(e,r,a)=>{Promise.resolve().then(a.bind(a,74077))},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},70264:(e,r,a)=>{Promise.resolve().then(a.bind(a,4155))},74077:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>t});let t=(0,a(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/franciscojavierbarrerascebreros/Documents/MediaAerea/cidson/app/zonas/editar/[id]/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/franciscojavierbarrerascebreros/Documents/MediaAerea/cidson/app/zonas/editar/[id]/page.tsx","default")},78335:()=>{},83326:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>o});var t=a(37413);function o(){return(0,t.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-[#f4f6fb]",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"w-16 h-16 border-4 border-[#303e65] border-t-[#f5d433] rounded-full animate-spin mx-auto"}),(0,t.jsx)("p",{className:"mt-4 text-gray-600",children:"Cargando informaci\xf3n..."})]})})}},96487:()=>{}};var r=require("../../../../webpack-runtime.js");r.C(e);var a=e=>r(r.s=e),t=r.X(0,[447,323,900],()=>a(39870));module.exports=t})();