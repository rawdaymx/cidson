(()=>{var e={};e.id=533,e.ids=[533],e.modules={204:(e,a,r)=>{"use strict";r.d(a,{z:()=>s});var t=r(49278);class s{static async getAll(e){try{let a=`${t.nC.BASE_URL}${t.nC.ENDPOINTS.EMPRESAS}`;if(e){let r=new URLSearchParams;e.nombre&&r.append("nombre",e.nombre),void 0!==e.estado&&r.append("estado",e.estado.toString()),e.fecha_inicio&&r.append("fecha_inicio",e.fecha_inicio),e.fecha_fin&&r.append("fecha_fin",e.fecha_fin),e.page&&r.append("page",e.page.toString());let t=r.toString();t&&(a+=`?${t}`)}let r=(0,t.c4)()||"yBPONqL0SH66XBKyfXu2ouwayDl7qaCn05ODKAioebfbd8ad",s=await fetch(a,{method:"GET",headers:{Accept:"application/json",Authorization:`Bearer ${r}`}});if(!s.ok)throw Error(`Error al obtener empresas: ${s.statusText}`);let o=await s.json();return console.log("Respuesta de la API (getAll):",o),{empresas:o.data.map(e=>({id:e.id,nombre:e.nombre,razonSocial:e.razon_social,fechaRegistro:new Date().toLocaleDateString(),fecha_creacion:e.fecha_creacion,estado:e.estado?"Activo":"Inactivo",configuracion_id:e.configuracion_id})),pagination:o.meta}}catch(e){return console.error("Error al obtener empresas:",e),{empresas:[],pagination:{current_page:1,from:0,last_page:1,links:[],path:"",per_page:10,to:0,total:0}}}}static async create(e){try{let a=`${t.nC.BASE_URL}${t.nC.ENDPOINTS.EMPRESAS}`,r=(0,t.c4)()||"yBPONqL0SH66XBKyfXu2ouwayDl7qaCn05ODKAioebfbd8ad",s={nombre:e.nombre,razon_social:e.razon_social},o=await fetch(a,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(s)});if(!o.ok){let e=await o.json();throw Error(e.message||`Error al crear empresa: ${o.statusText}`)}let i=await o.json();return console.log("Respuesta de la API (create):",i),{id:i.data.id,nombre:i.data.nombre,razonSocial:i.data.razon_social,fechaRegistro:new Date().toLocaleDateString(),fecha_creacion:i.data.fecha_creacion,estado:i.data.estado?"Activo":"Inactivo",configuracion_id:i.data.configuracion_id}}catch(e){throw console.error("Error al crear empresa:",e),e}}static async getById(e){try{let a=`${t.nC.BASE_URL}${t.nC.ENDPOINTS.EMPRESAS}/${e}`,r=(0,t.c4)()||"yBPONqL0SH66XBKyfXu2ouwayDl7qaCn05ODKAioebfbd8ad",s=await fetch(a,{method:"GET",headers:{Accept:"application/json",Authorization:`Bearer ${r}`}});if(!s.ok){if(404===s.status)return;throw Error(`Error al obtener empresa: ${s.statusText}`)}let o=await s.json();return console.log("Respuesta de la API (getById):",o),{id:o.data.id,nombre:o.data.nombre,razonSocial:o.data.razon_social,fechaRegistro:new Date().toLocaleDateString(),fecha_creacion:o.data.fecha_creacion,estado:o.data.estado?"Activo":"Inactivo",configuracion_id:o.data.configuracion_id}}catch(e){console.error("Error al obtener empresa por ID:",e);return}}static async update(e,a){try{let r=`${t.nC.BASE_URL}${t.nC.ENDPOINTS.EMPRESAS}/${e}`,s=(0,t.c4)()||"yBPONqL0SH66XBKyfXu2ouwayDl7qaCn05ODKAioebfbd8ad",o={nombre:a.nombre,razon_social:a.razon_social},i=await fetch(r,{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${s}`},body:JSON.stringify(o)});if(!i.ok){if(404===i.status)return;let e=await i.json();if(422===i.status&&e.errors){let a=Error(e.message||"Error de validaci\xf3n");throw a.validationErrors=e.errors,a}throw Error(e.message||`Error al actualizar empresa: ${i.statusText}`)}let n=await i.json();return console.log("Respuesta de la API (update):",n),{id:n.data.id,nombre:n.data.nombre,razonSocial:n.data.razon_social,fechaRegistro:new Date().toLocaleDateString(),fecha_creacion:n.data.fecha_creacion,estado:n.data.estado?"Activo":"Inactivo",configuracion_id:n.data.configuracion_id}}catch(e){throw console.error("Error al actualizar empresa:",e),e}}static async toggleActive(e){try{let a=`${t.nC.BASE_URL}${t.nC.ENDPOINTS.EMPRESAS}/${e}`,r=(0,t.c4)()||"yBPONqL0SH66XBKyfXu2ouwayDl7qaCn05ODKAioebfbd8ad",s=await fetch(a,{method:"DELETE",headers:{Accept:"application/json",Authorization:`Bearer ${r}`}});if(!s.ok){if(404===s.status)return;throw Error(`Error al cambiar estado de empresa: ${s.statusText}`)}let o=await s.json();return console.log("Respuesta de la API (toggleActive):",o),{id:o.data.id,nombre:o.data.nombre,razonSocial:o.data.razon_social,fechaRegistro:new Date().toLocaleDateString(),fecha_creacion:o.data.fecha_creacion,estado:o.data.estado?"Activo":"Inactivo",configuracion_id:o.data.configuracion_id}}catch(e){throw console.error("Error al cambiar estado de empresa:",e),e}}}},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},15946:(e,a,r)=>{"use strict";r.r(a),r.d(a,{default:()=>t});let t=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/franciscojavierbarrerascebreros/Documents/MediaAerea/cidson/app/empresas/catalogos/[id]/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/franciscojavierbarrerascebreros/Documents/MediaAerea/cidson/app/empresas/catalogos/[id]/page.tsx","default")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},29987:(e,a,r)=>{Promise.resolve().then(r.bind(r,53767))},33873:e=>{"use strict";e.exports=require("path")},53767:(e,a,r)=>{"use strict";r.r(a),r.d(a,{default:()=>x});var t=r(60687),s=r(43210),o=r(16189),i=r(28559),n=r(85814),c=r.n(n);r(204);var d=r(62688);let l=(0,d.A)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),p=(0,d.A)("Hand",[["path",{d:"M18 11V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2",key:"1fvzgz"}],["path",{d:"M14 10V4a2 2 0 0 0-2-2a2 2 0 0 0-2 2v2",key:"1kc0my"}],["path",{d:"M10 10.5V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2v8",key:"10h0bg"}],["path",{d:"M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"1s1gnw"}]]),m=(0,d.A)("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]),h=(0,d.A)("Bed",[["path",{d:"M2 4v16",key:"vw9hq8"}],["path",{d:"M2 8h18a2 2 0 0 1 2 2v10",key:"1dgv2r"}],["path",{d:"M2 17h20",key:"18nfp3"}],["path",{d:"M6 8v9",key:"1yriud"}]]);var u=r(19080);function f({catalogo:e,empresaId:a,configuracionId:r}){return(0,t.jsx)(c(),{href:(()=>{let t=new URLSearchParams;t.append("empresaId",a.toString());let s=r||1;return t.append("configuracionId",s.toString()),`${e.ruta}?${t.toString()}`})(),children:(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-card border border-gray-100 p-5 transition-all duration-200 hover:shadow-card-hover hover:border-gray-200",children:[(0,t.jsxs)("div",{className:"flex items-center mb-4",children:[(0,t.jsx)("div",{className:"h-12 w-12 rounded-full bg-[#303e65] bg-opacity-10 flex items-center justify-center text-[#303e65]",children:(()=>{switch(e.icono){case"FileText":default:return(0,t.jsx)(l,{className:"h-6 w-6"});case"Hand":return(0,t.jsx)(p,{className:"h-6 w-6"});case"Server":return(0,t.jsx)(m,{className:"h-6 w-6"});case"Bed":return(0,t.jsx)(h,{className:"h-6 w-6"});case"Package":return(0,t.jsx)(u.A,{className:"h-6 w-6"})}})()}),(0,t.jsx)("h3",{className:"ml-4 font-semibold text-lg text-gray-800",children:e.nombre})]}),(0,t.jsx)("p",{className:"text-gray-600 text-sm",children:e.descripcion}),(0,t.jsxs)("p",{className:"text-xs text-gray-500 mt-2",children:["Configuraci\xf3n ID:"," ",r||"No disponible (usando valor por defecto: 1)"]})]})})}function x(){(0,o.useRouter)();let e=Number((0,o.useParams)().id),[a,r]=(0,s.useState)(null),[n,d]=(0,s.useState)(!0),[l,p]=(0,s.useState)(null);if(n)return(0,t.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-[#f4f6fb]",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"w-16 h-16 border-4 border-[#303e65] border-t-[#f5d433] rounded-full animate-spin mx-auto"}),(0,t.jsx)("p",{className:"mt-4 text-gray-600",children:"Cargando informaci\xf3n..."})]})});if(l)return(0,t.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-[#f4f6fb]",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("p",{className:"text-xl text-gray-700",children:l}),(0,t.jsx)(c(),{href:"/empresas",className:"mt-4 inline-block text-[#303e65] hover:underline",children:"Volver al listado"})]})});if(!a)return(0,t.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-[#f4f6fb]",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("p",{className:"text-xl text-gray-700",children:"Empresa no encontrada"}),(0,t.jsx)(c(),{href:"/empresas",className:"mt-4 inline-block text-[#303e65] hover:underline",children:"Volver al listado"})]})});let m=!a.configuracion_id;return(0,t.jsx)("div",{className:"bg-[#f4f6fb] min-h-screen",children:(0,t.jsxs)("div",{className:"pl-8 pr-6 py-6 max-w-[1200px]",children:[(0,t.jsxs)(c(),{href:"/empresas",className:"inline-flex items-center text-[#303e65] mb-6",children:[(0,t.jsx)(i.A,{className:"h-4 w-4 mr-2"}),"Regresar"]}),(0,t.jsxs)("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:["Cat\xe1logos de ",a.nombre]}),(0,t.jsx)("p",{className:"text-gray-600 mb-2",children:"Seleccione un cat\xe1logo para gestionar."}),m?(0,t.jsx)("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4 mb-6",children:(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:(0,t.jsx)("svg",{className:"h-5 w-5 text-yellow-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),(0,t.jsx)("div",{className:"ml-3",children:(0,t.jsx)("p",{className:"text-sm text-yellow-700",children:"No se encontr\xf3 ID de configuraci\xf3n para esta empresa. Se utilizar\xe1 un valor por defecto (1) para pruebas."})})]})}):(0,t.jsxs)("p",{className:"text-sm text-gray-500 mb-8",children:["ID de Configuraci\xf3n: ",a.configuracion_id]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[{id:1,nombre:"Actividades",descripcion:"Gesti\xf3n de actividades asociadas a la empresa",icono:"FileText",ruta:"/actividades"},{id:2,nombre:"Motivos",descripcion:"Gesti\xf3n de motivos asociados a la empresa",icono:"FileText",ruta:"/motivos"},{id:3,nombre:"M\xe9todos",descripcion:"Gesti\xf3n de m\xe9todos asociados a la empresa",icono:"Hand",ruta:"/metodos"},{id:4,nombre:"\xc1reas",descripcion:"Gesti\xf3n de \xe1reas asociadas a la empresa",icono:"Server",ruta:"/areas"},{id:5,nombre:"Zonas",descripcion:"Gesti\xf3n de zonas asociadas a la empresa",icono:"Bed",ruta:"/zonas"},{id:6,nombre:"Materiales",descripcion:"Gesti\xf3n de materiales asociados a la empresa",icono:"Package",ruta:"/materiales"}].map(r=>(0,t.jsx)(f,{catalogo:r,empresaId:e,configuracionId:a.configuracion_id},r.id))})]})})}},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},69472:(e,a,r)=>{"use strict";r.r(a),r.d(a,{GlobalError:()=>i.a,__next_app__:()=>p,pages:()=>l,routeModule:()=>m,tree:()=>d});var t=r(65239),s=r(48088),o=r(88170),i=r.n(o),n=r(30893),c={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>n[e]);r.d(a,c);let d={children:["",{children:["empresas",{children:["catalogos",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,15946)),"/Users/franciscojavierbarrerascebreros/Documents/MediaAerea/cidson/app/empresas/catalogos/[id]/page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,58014)),"/Users/franciscojavierbarrerascebreros/Documents/MediaAerea/cidson/app/layout.tsx"],error:[()=>Promise.resolve().then(r.bind(r,52608)),"/Users/franciscojavierbarrerascebreros/Documents/MediaAerea/cidson/app/error.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,l=["/Users/franciscojavierbarrerascebreros/Documents/MediaAerea/cidson/app/empresas/catalogos/[id]/page.tsx"],p={require:r,loadChunk:()=>Promise.resolve()},m=new t.AppPageRouteModule({definition:{kind:s.RouteKind.APP_PAGE,page:"/empresas/catalogos/[id]/page",pathname:"/empresas/catalogos/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},70315:(e,a,r)=>{Promise.resolve().then(r.bind(r,15946))}};var a=require("../../../../webpack-runtime.js");a.C(e);var r=e=>a(a.s=e),t=a.X(0,[447,323,900],()=>r(69472));module.exports=t})();