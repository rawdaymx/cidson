(()=>{var e={};e.id=296,e.ids=[296],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10043:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>o});let o=(0,t(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/franciscojavierbarrerascebreros/Documents/MediaAerea/cidson/app/motivos/nuevo/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/franciscojavierbarrerascebreros/Documents/MediaAerea/cidson/app/motivos/nuevo/page.tsx","default")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},15266:(e,r,t)=>{Promise.resolve().then(t.bind(t,64089))},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},25409:(e,r,t)=>{"use strict";t.d(r,{Q:()=>a});var o=t(49278);class a{static getHeaders(){let e={"Content-Type":"application/json",Accept:"application/json"},r=(0,o.c4)();return r&&(e.Authorization=`Bearer ${r}`),console.log("Headers de la petici\xf3n:",e),e}static async handleResponse(e){let r;if(!e.ok){let r;let t=e.headers.get("content-type")||"";try{r=await e.text()}catch(r){throw Error(`Error HTTP: ${e.status}, ${e.statusText}`)}if(t.includes("text/html"))throw console.error("Respuesta HTML recibida:",r.substring(0,200)+"..."),Error(`El servidor devolvi\xf3 HTML en lugar de JSON. C\xf3digo: ${e.status}`);try{let t=JSON.parse(r),o=t.message||t.error||`Error HTTP: ${e.status}`;throw Error(o)}catch(t){throw Error(`Error HTTP: ${e.status}, ${r||e.statusText}`)}}if("0"===e.headers.get("content-length"))return{};let t=e.headers.get("content-type")||"";try{r=await e.text()}catch(e){throw Error("Error al leer la respuesta del servidor")}if(!t.includes("application/json")){if(console.warn(`Respuesta no es JSON: ${t}`),r.trim().startsWith("<!DOCTYPE")||r.trim().startsWith("<html"))throw console.error("Respuesta HTML recibida:",r.substring(0,200)+"..."),Error("El servidor devolvi\xf3 HTML en lugar de JSON");try{return JSON.parse(r)}catch(e){throw console.error("No se pudo parsear la respuesta como JSON:",r.substring(0,200)+"..."),Error("Respuesta no v\xe1lida: no es JSON")}}try{return JSON.parse(r)}catch(e){throw console.error("Error al parsear JSON:",e),console.error("Contenido de la respuesta:",r.substring(0,200)+"..."),Error("Error al parsear la respuesta JSON")}}static async get(e){try{let r=this.ensureAbsoluteUrl(e);console.log("GET Request URL:",r);let t=this.getHeaders();console.log("GET Request Headers:",t);let o=await fetch(r,{method:"GET",headers:t});return await this.handleResponse(o)}catch(e){throw console.error("GET Request Error:",e),e}}static async post(e,r){try{let t=this.ensureAbsoluteUrl(e);console.log("POST:",t),console.log("Datos:",r);let o=await fetch(t,{method:"POST",headers:this.getHeaders(),body:JSON.stringify(r)});return await this.handleResponse(o)}catch(r){throw console.error(`Error en solicitud POST a ${e}:`,r),r}}static async put(e,r){try{let t=this.ensureAbsoluteUrl(e);console.log("PUT:",t),console.log("Datos:",r);let o=await fetch(t,{method:"PUT",headers:this.getHeaders(),body:JSON.stringify(r)});return await this.handleResponse(o)}catch(r){throw console.error(`Error en solicitud PUT a ${e}:`,r),r}}static async delete(e){try{let r=this.ensureAbsoluteUrl(e);console.log("DELETE:",r);let t=await fetch(r,{method:"DELETE",headers:this.getHeaders()});return await this.handleResponse(t)}catch(r){throw console.error(`Error en solicitud DELETE a ${e}:`,r),r}}static ensureAbsoluteUrl(e){try{return new URL(e),e}catch(o){let r=(process.env.NEXT_PUBLIC_API_URL||"https://cidson.int.qaenv.dev").replace(/\/+$/,""),t=e.replace(/^\/+/,"");return`${r}/${t}`}}static async handleError(e){try{let r=await e.json();if(r.message)return Error(r.message);return Error(`Error HTTP: ${e.status}`)}catch{return Error(`Error HTTP: ${e.status}`)}}}},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},48640:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>a});var o=t(37413);function a(){return(0,o.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-[#f4f6fb]",children:(0,o.jsxs)("div",{className:"text-center",children:[(0,o.jsx)("div",{className:"w-16 h-16 border-4 border-[#303e65] border-t-[#f5d433] rounded-full animate-spin mx-auto"}),(0,o.jsx)("p",{className:"mt-4 text-gray-600",children:"Cargando..."})]})})}},53422:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>n.a,__next_app__:()=>u,pages:()=>d,routeModule:()=>p,tree:()=>l});var o=t(65239),a=t(48088),s=t(88170),n=t.n(s),i=t(30893),c={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>i[e]);t.d(r,c);let l={children:["",{children:["motivos",{children:["nuevo",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,10043)),"/Users/franciscojavierbarrerascebreros/Documents/MediaAerea/cidson/app/motivos/nuevo/page.tsx"]}]},{loading:[()=>Promise.resolve().then(t.bind(t,48640)),"/Users/franciscojavierbarrerascebreros/Documents/MediaAerea/cidson/app/motivos/nuevo/loading.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,58014)),"/Users/franciscojavierbarrerascebreros/Documents/MediaAerea/cidson/app/layout.tsx"],error:[()=>Promise.resolve().then(t.bind(t,52608)),"/Users/franciscojavierbarrerascebreros/Documents/MediaAerea/cidson/app/error.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,65284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,d=["/Users/franciscojavierbarrerascebreros/Documents/MediaAerea/cidson/app/motivos/nuevo/page.tsx"],u={require:t,loadChunk:()=>Promise.resolve()},p=new o.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/motivos/nuevo/page",pathname:"/motivos/nuevo",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},64089:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>l});var o=t(60687),a=t(43210),s=t(16189),n=t(85814),i=t.n(n),c=t(75251);function l(){let e=(0,s.useRouter)(),r=(0,s.useSearchParams)().get("configuracionId"),[t,n]=(0,a.useState)(""),[l,d]=(0,a.useState)(null),[u,p]=(0,a.useState)(!1),h=async o=>{if(o.preventDefault(),!t.trim()){d("El nombre del motivo es obligatorio");return}if(!r){d("No se ha especificado la configuraci\xf3n");return}p(!0),d(null);try{console.log("Enviando datos para crear motivo:",{nombre:t,configuracion_id:Number(r)}),await c.E.create({nombre:t,estado:"Activa",configuracion_id:Number(r)}),e.push(`/motivos?configuracionId=${r}`)}catch(e){console.error("Error al crear motivo:",e),d(e.message||"Error al crear el motivo")}finally{p(!1)}};return(0,o.jsx)("div",{className:"min-h-screen bg-[#f4f6fb]",children:(0,o.jsxs)("div",{className:"p-6",children:[(0,o.jsxs)(i(),{href:`/motivos${r?`?configuracionId=${r}`:""}`,className:"inline-flex items-center text-[#303e65] mb-6",children:[(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-2",children:(0,o.jsx)("path",{d:"M19 12H5M12 19l-7-7 7-7"})}),"Regresar"]}),(0,o.jsx)("h1",{className:"text-2xl font-bold text-gray-800 mb-1",children:"Nuevo registro"}),(0,o.jsx)("p",{className:"text-gray-600 mb-8",children:"Crea y registra nuevos motivos."}),(0,o.jsxs)("div",{className:"bg-white rounded-lg p-8 shadow-sm",children:[l&&(0,o.jsx)("div",{className:"mb-6 p-3 bg-red-50 border border-red-200 text-red-700 rounded-md",children:l}),(0,o.jsxs)("form",{onSubmit:h,children:[(0,o.jsx)("div",{className:"mb-6",children:(0,o.jsx)("input",{type:"text",id:"nombre",value:t,onChange:e=>n(e.target.value),className:"w-full p-3 bg-[#f4f6fb] border-0 rounded-md focus:ring-2 focus:ring-[#303e65]",placeholder:"Nombre del Motivo"})}),(0,o.jsx)("div",{className:"flex justify-end",children:(0,o.jsx)("button",{type:"submit",disabled:u,className:"flex items-center justify-center bg-[#f5d433] text-[#303e65] font-medium px-4 py-2 rounded-full hover:bg-[#f7dc5c] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#f5d433] disabled:opacity-70",children:u?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:"w-4 h-4 border-2 border-[#303e65] border-t-transparent rounded-full animate-spin mr-2"}),"Guardando..."]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-2",children:[(0,o.jsx)("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}),(0,o.jsx)("polyline",{points:"17 21 17 13 7 13 7 21"}),(0,o.jsx)("polyline",{points:"7 3 7 8 15 8"})]}),"Guardar"]})})})]})]})]})})}},75098:(e,r,t)=>{Promise.resolve().then(t.bind(t,10043))},75251:(e,r,t)=>{"use strict";t.d(r,{E:()=>s});var o=t(25409),a=t(49278);class s{static async getAll(e,r=1,t="",s){try{if(!e)return this.getEmptyPaginationResponse();let n={page:r};t&&(n.nombre=t),void 0!==s&&(n.estado=s);let i=`${a.nC.BASE_URL}/api/motivos/${e}`;console.log("URL de la solicitud:",i),console.log("Par\xe1metros:",n);try{let e=await o.Q.get(i,n);return this.processMotivosResponse(e)}catch(t){console.error("Error al hacer la solicitud HTTP:",t),console.log("Intentando con URL alternativa...");let r=`${a.nC.BASE_URL}/motivos/${e}`;console.log("URL alternativa:",r);try{let e=await o.Q.get(r,n);return this.processMotivosResponse(e)}catch(e){return console.error("Error con URL alternativa:",e),this.getEmptyPaginationResponse()}}}catch(e){return console.error("Error al obtener motivos:",e),this.getEmptyPaginationResponse()}}static getEmptyPaginationResponse(){return{data:[],meta:{current_page:1,from:0,last_page:1,links:[],path:"",per_page:10,to:0,total:0},links:{first:"",last:"",prev:null,next:null}}}static processMotivosResponse(e){if(e&&e.data){let r=Array.isArray(e.data)?e.data.map(e=>({id:e.id,nombre:e.nombre,estado:e.estado,fecha_creacion:e.fecha_creacion,configuracion_id:e.configuracion_id,area_id:e.area_id})):[];return{data:r,meta:e.meta||{current_page:1,from:0,last_page:1,links:[],path:"",per_page:r.length,to:r.length,total:r.length},links:e.links||{first:"",last:"",prev:null,next:null}}}return this.getEmptyPaginationResponse()}static async getById(e){try{let r=`${a.nC.BASE_URL}/api/motivo/${e}`;console.log("URL para obtener motivo por ID:",r);try{let e=await o.Q.get(r);return this.transformMotivoResponse(e.data)}catch(s){console.error("Error al hacer la solicitud HTTP:",s);let r=`${a.nC.BASE_URL}/motivo/${e}`;console.log("URL alternativa:",r);let t=await o.Q.get(r);return this.transformMotivoResponse(t.data)}}catch(r){console.error(`Error al obtener motivo con ID ${e}:`,r);return}}static transformMotivoResponse(e){return{id:e.id,nombre:e.nombre,estado:e.estado,fecha_creacion:e.fecha_creacion,configuracion_id:e.configuracion_id,area_id:e.area_id}}static async create(e){try{let r=`${a.nC.BASE_URL}/api/motivos/store/${e.configuracion_id}`;console.log("URL para crear motivo:",r);let t={nombre:e.nombre};e.area_id&&(t.area_id=e.area_id);try{let e=await o.Q.post(r,t);return this.transformMotivoResponse(e.data)}catch(n){console.error("Error al hacer la solicitud HTTP:",n);let r=`${a.nC.BASE_URL}/motivos/store/${e.configuracion_id}`;console.log("URL alternativa:",r);let s=await o.Q.post(r,t);return this.transformMotivoResponse(s.data)}}catch(e){throw console.error("Error al crear motivo:",e),e}}static async update(e,r){try{let t=`${a.nC.BASE_URL}/api/motivos/update/${e}`;console.log("URL para actualizar motivo:",t);let s={};void 0!==r.nombre&&(s.nombre=r.nombre),void 0!==r.estado&&(s.estado="Activa"===r.estado),void 0!==r.configuracion_id&&(s.configuracion_id=r.configuracion_id),void 0!==r.area_id&&(s.area_id=r.area_id);try{let e=await o.Q.put(t,s);return this.transformMotivoResponse(e.data)}catch(n){console.error("Error al hacer la solicitud HTTP:",n);let r=`${a.nC.BASE_URL}/motivos/update/${e}`;console.log("URL alternativa:",r);let t=await o.Q.put(r,s);return this.transformMotivoResponse(t.data)}}catch(r){console.error(`Error al actualizar motivo con ID ${e}:`,r);return}}static async toggleEstado(e){try{let r=`${a.nC.BASE_URL}/api/motivos/destroy/${e}`;console.log("URL para cambiar estado del motivo:",r);try{let e=await o.Q.delete(r);return{id:e.data.id,nombre:e.data.nombre,estado:e.data.estado,fecha_creacion:e.data.fecha_creacion,configuracion_id:e.data.configuracion_id,area_id:e.data.area_id}}catch(s){console.error("Error al hacer la solicitud HTTP:",s);let r=`${a.nC.BASE_URL}/motivos/destroy/${e}`;console.log("URL alternativa:",r);let t=await o.Q.delete(r);return{id:t.data.id,nombre:t.data.nombre,estado:t.data.estado,fecha_creacion:t.data.fecha_creacion,configuracion_id:t.data.configuracion_id,area_id:t.data.area_id}}}catch(r){console.error(`Error al cambiar estado del motivo con ID ${e}:`,r);return}}static async delete(e){try{let r=`${a.nC.BASE_URL}/api/motivo/${e}`;console.log("URL para eliminar motivo:",r);try{return await o.Q.delete(r),!0}catch(t){console.error("Error al hacer la solicitud HTTP:",t);let r=`${a.nC.BASE_URL}/motivo/${e}`;return console.log("URL alternativa:",r),await o.Q.delete(r),!0}}catch(r){return console.error(`Error al eliminar motivo con ID ${e}:`,r),!1}}}},78335:()=>{},96487:()=>{}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),o=r.X(0,[447,323,900],()=>t(53422));module.exports=o})();