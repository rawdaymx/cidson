(()=>{var e={};e.id=708,e.ids=[708],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},8819:(e,r,a)=>{"use strict";a.d(r,{A:()=>t});let t=(0,a(62688).A)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},9591:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>t});let t=(0,a(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/franciscojavierbarrerascebreros/Documents/MediaAerea/cidson/app/actividades/nueva/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/franciscojavierbarrerascebreros/Documents/MediaAerea/cidson/app/actividades/nueva/page.tsx","default")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},47516:(e,r,a)=>{"use strict";function t(){return null}a.r(r),a.d(r,{default:()=>t})},57941:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>c});var t=a(60687),s=a(43210),i=a(16189),o=a(28559),n=a(8819),d=a(98936);function c(){let e=(0,i.useRouter)(),r=(0,i.useSearchParams)(),a=r.get("empresaId"),c=r.get("configuracionId"),l=r.get("returnTo"),[u,p]=(0,s.useState)(""),[m,h]=(0,s.useState)(""),[v,f]=(0,s.useState)(!1),[x,b]=(0,s.useState)(c?Number(c):null),g=async r=>{if(r.preventDefault(),!u.trim()){h("El nombre de la actividad es requerido");return}if(!x){h("No se proporcion\xf3 ID de configuraci\xf3n");return}f(!0),h("");try{if(await d.h.create(x,u.trim())){let r=new URLSearchParams;a&&r.append("empresaId",a),x&&r.append("configuracionId",x.toString()),l&&r.append("returnTo",l),e.push(`/actividades?${r.toString()}`)}}catch(e){console.error("Error al crear actividad:",e),e instanceof Error?"NOMBRE_DUPLICADO"===e.message?h("El nombre de la actividad ya existe. Por favor, utilice otro nombre."):h(e.message||"Error al crear la actividad. Por favor, intente nuevamente."):h("Error al crear la actividad. Por favor, intente nuevamente.")}finally{f(!1)}};return(0,t.jsxs)("div",{className:"p-3 sm:p-4 md:p-6 max-w-[1600px] mx-auto",children:[(0,t.jsxs)("div",{className:"mb-4 sm:mb-6 md:mb-8",children:[(0,t.jsxs)("a",{href:(()=>{let e=new URLSearchParams;return a&&e.append("empresaId",a),x&&e.append("configuracionId",x.toString()),l&&e.append("returnTo",l),`/actividades${e.toString()?`?${e.toString()}`:""}`})(),className:"inline-flex items-center text-[#303e65] hover:text-[#1a2540] transition-colors",children:[(0,t.jsx)(o.A,{className:"mr-1 h-4 w-4"}),(0,t.jsx)("span",{children:"Regresar"})]}),(0,t.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-800 mt-4",children:"Nueva Actividad"}),(0,t.jsx)("p",{className:"text-sm sm:text-base text-gray-600",children:"Crea una nueva actividad para CIDSON."})]}),(0,t.jsx)("div",{className:"bg-white rounded-xl p-8 shadow-sm max-w-[800px] mx-auto",children:(0,t.jsxs)("form",{onSubmit:g,children:[(0,t.jsx)("div",{className:"space-y-6",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("input",{type:"text",id:"nombre",name:"nombre",placeholder:"Nombre De La Actividad",value:u,onChange:e=>{p(e.target.value),e.target.value.trim()&&h("")},className:`w-full h-12 px-4 bg-[#f4f6fb] rounded-md border-0 focus:ring-2 focus:ring-[#303e65] ${m?"ring-2 ring-red-500":""}`}),m&&(0,t.jsx)("p",{className:"mt-1 text-sm text-red-500",children:m})]})}),(0,t.jsx)("div",{className:"flex justify-end mt-8",children:(0,t.jsx)("button",{type:"submit",disabled:v,className:"flex items-center justify-center bg-[#f5d433] text-[#303e65] font-medium px-6 py-2.5 rounded-full hover:bg-[#f0ca20] transition-colors disabled:opacity-70",children:v?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"w-4 h-4 border-2 border-[#303e65] border-t-transparent rounded-full animate-spin mr-2"}),"Guardando..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.A,{className:"h-5 w-5 mr-2"}),"Guardar"]})})})]})})]})}},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},74174:(e,r,a)=>{Promise.resolve().then(a.bind(a,57941))},78335:()=>{},78902:(e,r,a)=>{Promise.resolve().then(a.bind(a,9591))},79558:(e,r,a)=>{"use strict";a.r(r),a.d(r,{GlobalError:()=>o.a,__next_app__:()=>u,pages:()=>l,routeModule:()=>p,tree:()=>c});var t=a(65239),s=a(48088),i=a(88170),o=a.n(i),n=a(30893),d={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);a.d(r,d);let c={children:["",{children:["actividades",{children:["nueva",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,9591)),"/Users/franciscojavierbarrerascebreros/Documents/MediaAerea/cidson/app/actividades/nueva/page.tsx"]}]},{loading:[()=>Promise.resolve().then(a.bind(a,47516)),"/Users/franciscojavierbarrerascebreros/Documents/MediaAerea/cidson/app/actividades/nueva/loading.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,58014)),"/Users/franciscojavierbarrerascebreros/Documents/MediaAerea/cidson/app/layout.tsx"],error:[()=>Promise.resolve().then(a.bind(a,52608)),"/Users/franciscojavierbarrerascebreros/Documents/MediaAerea/cidson/app/error.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(a.t.bind(a,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(a.t.bind(a,65284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,l=["/Users/franciscojavierbarrerascebreros/Documents/MediaAerea/cidson/app/actividades/nueva/page.tsx"],u={require:a,loadChunk:()=>Promise.resolve()},p=new t.AppPageRouteModule({definition:{kind:s.RouteKind.APP_PAGE,page:"/actividades/nueva/page",pathname:"/actividades/nueva",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},96487:()=>{},98936:(e,r,a)=>{"use strict";a.d(r,{h:()=>s});var t=a(49278);class s{static async getAll(e,r={}){try{let a=`${t.nC.BASE_URL}/api/actividades/${e}`,s=new URLSearchParams;r.nombre&&s.append("nombre",r.nombre),void 0!==r.estado&&s.append("estado",r.estado.toString()),r.page&&s.append("page",r.page.toString());let i=s.toString();i&&(a+=`?${i}`);let o=(0,t.c4)()||"yBPONqL0SH66XBKyfXu2ouwayDl7qaCn05ODKAioebfbd8ad",n=await fetch(a,{method:"GET",headers:{Accept:"application/json",Authorization:`Bearer ${o}`}});if(!n.ok){let e=await n.text();try{let r=JSON.parse(e);if(r.message)throw Error(r.message)}catch(e){}throw Error(`Error al obtener actividades: ${n.status} - ${e}`)}return await n.json()}catch(e){throw console.error("Error en ActividadService.getAll:",e),e}}static async getById(e,r){try{let r=(0,t.c4)()||"yBPONqL0SH66XBKyfXu2ouwayDl7qaCn05ODKAioebfbd8ad",a=await fetch(`${t.nC.BASE_URL}/api/actividades/detalle/${e}`,{method:"GET",headers:{Accept:"application/json",Authorization:`Bearer ${r}`}});if(!a.ok){let e=await a.text();try{let r=JSON.parse(e);if(r.message)throw Error(r.message)}catch(e){}throw Error(`Error al obtener actividad: ${a.status} - ${e}`)}return(await a.json()).data}catch(e){throw console.error("Error en ActividadService.getById:",e),e}}static async create(e,r){try{let a=(0,t.c4)()||"yBPONqL0SH66XBKyfXu2ouwayDl7qaCn05ODKAioebfbd8ad",s=await fetch(`${t.nC.BASE_URL}/api/actividades/store/${e}`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify({nombre:r})});if(!s.ok){let e=await s.text();try{let r=JSON.parse(e);if(r.message){if(r.message.includes("already exists"))throw Error("NOMBRE_DUPLICADO");throw Error(r.message)}}catch(e){}throw Error(`Error al crear actividad: ${s.status} - ${e}`)}return(await s.json()).data}catch(e){throw console.error("Error en ActividadService.create:",e),e}}static async update(e,r){try{let a=(0,t.c4)()||"yBPONqL0SH66XBKyfXu2ouwayDl7qaCn05ODKAioebfbd8ad",s=await fetch(`${t.nC.BASE_URL}/api/actividades/update/${e}`,{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify(r)});if(!s.ok){let e=await s.text();try{let r=JSON.parse(e);if(r.message){if(r.message.includes("already exists"))throw Error("NOMBRE_DUPLICADO");throw Error(r.message)}}catch(e){}throw Error(`Error al actualizar actividad: ${s.status} - ${e}`)}return(await s.json()).data}catch(e){throw console.error("Error en ActividadService.update:",e),e}}static async toggleEstado(e){try{let r=(0,t.c4)()||"yBPONqL0SH66XBKyfXu2ouwayDl7qaCn05ODKAioebfbd8ad",a=await fetch(`${t.nC.BASE_URL}/api/actividades/destroy/${e}`,{method:"DELETE",headers:{Accept:"application/json",Authorization:`Bearer ${r}`}});if(!a.ok){let e=await a.text();try{let r=JSON.parse(e);if(r.message)throw Error(r.message)}catch(e){}throw Error(`Error al cambiar estado de actividad: ${a.status} - ${e}`)}return(await a.json()).data}catch(e){throw console.error("Error en ActividadService.toggleEstado:",e),e}}static async delete(e){try{let r=(0,t.c4)()||"yBPONqL0SH66XBKyfXu2ouwayDl7qaCn05ODKAioebfbd8ad",a=await fetch(`${t.nC.BASE_URL}/api/actividades/${e}`,{method:"DELETE",headers:{Accept:"application/json",Authorization:`Bearer ${r}`}});if(!a.ok){let e=await a.text();try{let r=JSON.parse(e);if(r.message)throw Error(r.message)}catch(e){}throw Error(`Error al eliminar actividad: ${a.status} - ${e}`)}return!0}catch(e){throw console.error("Error en ActividadService.delete:",e),e}}}}};var r=require("../../../webpack-runtime.js");r.C(e);var a=e=>r(r.s=e),t=r.X(0,[447,323,900],()=>a(79558));module.exports=t})();