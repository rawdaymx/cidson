"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[938],{924:(e,o,a)=>{a.d(o,{c4:()=>n,e9:()=>c,nC:()=>s});var t=a(9509);let r=()=>"https://cidson.api.production.com",c=()=>r().replace(/\/$/,"");function n(){{let e=localStorage.getItem("auth_token");if(e)return e;let o=sessionStorage.getItem("auth_token");if(o)return o}return null}let s={BASE_URL:t.env.NEXT_PUBLIC_API_URL||"https://cidson.int.qaenv.dev",ENDPOINTS:{LOGIN:"/api/login",EMPRESAS:"/api/empresas",ACTIVIDADES:"/api/actividades",ZONAS:"/api/zonas",AREAS:"/api/areas",METODOS:"/api/metodos",MATERIALES:"/api/materiales",MOTIVOS:"/api/motivos",CHECKLISTS:"/api/checklists"}}},4888:(e,o,a)=>{a.d(o,{x:()=>r});var t=a(924);class r{static async getAll(e){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{if(console.log("=== Iniciando getAll de AreaService ==="),console.log("configuracionId:",e),console.log("filters:",o),!e)return console.log("No se proporcion\xf3 configuracionId, retornando respuesta vac\xeda"),{data:[],links:{first:"",last:"",prev:null,next:null},meta:{current_page:1,from:0,last_page:1,links:[],path:"",per_page:10,to:0,total:0}};let a="".concat(t.nC.BASE_URL).concat(t.nC.ENDPOINTS.AREAS,"/").concat(e),r=new URLSearchParams;o.nombre&&r.append("nombre",o.nombre),void 0!==o.estado&&r.append("estado",o.estado.toString()),o.page&&r.append("page",o.page.toString());let c=r.toString();c&&(a="".concat(a,"?").concat(c)),console.log("URL completa de la petici\xf3n:",a);let n=(0,t.c4)()||"26plhaQiSc4m6AA6LFUAIP6tllkA2ZdAXF3c5ov5f7a6f932";console.log("Token a utilizar:",n),console.log("Realizando petici\xf3n fetch con headers:",{Accept:"application/json",Authorization:"Bearer ".concat(n)});let s=await fetch(a,{method:"GET",headers:{Accept:"application/json",Authorization:"Bearer ".concat(n)}});if(console.log("Respuesta recibida:"),console.log("Status:",s.status),console.log("Status Text:",s.statusText),console.log("Headers:",Object.fromEntries(s.headers.entries())),!s.ok){let e=await s.text();console.error("Error en la respuesta. Texto del error:",e);try{let o=JSON.parse(e);if(console.log("Error parseado como JSON:",o),o.message)throw Error(o.message)}catch(e){console.error("No se pudo parsear el error como JSON:",e)}throw Error("Error al obtener \xe1reas: ".concat(s.status," - ").concat(e))}let l=await s.json();return console.log("Datos recibidos de la API:",l),l}catch(e){throw console.error("Error en getAll de AreaService:",e),console.error("Stack trace:",e instanceof Error?e.stack:"No stack trace disponible"),e}}static async getById(e){try{console.log("=== Iniciando getById de AreaService ==="),console.log("ID a buscar:",e);let o="".concat(t.nC.BASE_URL).concat(t.nC.ENDPOINTS.AREAS,"/show/").concat(e);console.log("URL de la petici\xf3n:",o);let a=(0,t.c4)()||"26plhaQiSc4m6AA6LFUAIP6tllkA2ZdAXF3c5ov5f7a6f932";console.log("Token a utilizar:",a);let r=await fetch(o,{method:"GET",headers:{Accept:"application/json",Authorization:"Bearer ".concat(a)}});if(console.log("Respuesta recibida:"),console.log("Status:",r.status),console.log("Status Text:",r.statusText),!r.ok){let e=await r.text();throw console.error("Error en la respuesta:",e),Error("Error al obtener \xe1rea: ".concat(r.status," - ").concat(e))}let c=await r.json();return console.log("Datos recibidos:",c),{id:c.data.id,nombre:c.data.nombre,estado:c.data.estado?"Activa":"Inactiva",fechaCreacion:c.data.fecha_creacion||"N/A",configuracion_id:c.data.configuracion_id}}catch(e){console.error("Error en getById:",e);return}}static async create(e){try{console.log("=== Iniciando create de AreaService ==="),console.log("Datos a enviar:",e);let o="".concat(t.nC.BASE_URL).concat(t.nC.ENDPOINTS.AREAS,"/store/").concat(e.configuracion_id);console.log("URL de la petici\xf3n:",o);let a=(0,t.c4)()||"26plhaQiSc4m6AA6LFUAIP6tllkA2ZdAXF3c5ov5f7a6f932";console.log("Token a utilizar:",a);let r=await fetch(o,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(a)},body:JSON.stringify({nombre:e.nombre})});if(console.log("Respuesta recibida:"),console.log("Status:",r.status),console.log("Status Text:",r.statusText),!r.ok){let e=await r.text();console.error("Error en la respuesta:",e);try{let o=JSON.parse(e);if(console.log("Error parseado:",o),o.message){if(o.message.includes("already exists"))throw Error("NOMBRE_DUPLICADO");throw Error(o.message)}}catch(e){console.error("Error al parsear respuesta de error:",e)}throw Error("Error al crear \xe1rea: ".concat(r.status," - ").concat(e))}let c=await r.json();return console.log("Datos recibidos:",c),{id:c.data.id,nombre:c.data.nombre,estado:c.data.estado?"Activa":"Inactiva",fechaCreacion:c.data.fecha_creacion||"N/A",configuracion_id:c.data.configuracion_id}}catch(e){throw console.error("Error en create:",e),e}}static async update(e,o){try{console.log("=== Iniciando update de AreaService ==="),console.log("ID a actualizar:",e),console.log("Datos a enviar:",o);let a="".concat(t.nC.BASE_URL).concat(t.nC.ENDPOINTS.AREAS,"/update/").concat(e);console.log("URL de la petici\xf3n:",a);let r=(0,t.c4)()||"26plhaQiSc4m6AA6LFUAIP6tllkA2ZdAXF3c5ov5f7a6f932";console.log("Token a utilizar:",r);let c=await fetch(a,{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(r)},body:JSON.stringify({nombre:o.nombre})});if(console.log("Respuesta recibida:"),console.log("Status:",c.status),console.log("Status Text:",c.statusText),!c.ok){let e=await c.text();console.error("Error en la respuesta:",e);try{let o=JSON.parse(e);if(console.log("Error parseado:",o),o.message){if(o.message.includes("already exists"))throw Error("NOMBRE_DUPLICADO");throw Error(o.message)}}catch(e){console.error("Error al parsear respuesta de error:",e)}throw Error("Error al actualizar \xe1rea: ".concat(c.status," - ").concat(e))}let n=await c.json();return console.log("Datos recibidos:",n),{id:n.data.id,nombre:n.data.nombre,estado:n.data.estado?"Activa":"Inactiva",fechaCreacion:n.data.fecha_creacion||"N/A",configuracion_id:n.data.configuracion_id}}catch(e){throw console.error("Error en update:",e),e}}static async toggleEstado(e){try{console.log("=== Iniciando toggleEstado de AreaService ==="),console.log("ID a cambiar estado:",e);let o="".concat(t.nC.BASE_URL).concat(t.nC.ENDPOINTS.AREAS,"/destroy/").concat(e);console.log("URL de la petici\xf3n:",o);let a=(0,t.c4)()||"26plhaQiSc4m6AA6LFUAIP6tllkA2ZdAXF3c5ov5f7a6f932";console.log("Token a utilizar:",a);let r=await fetch(o,{method:"DELETE",headers:{Accept:"application/json",Authorization:"Bearer ".concat(a)}});if(console.log("Respuesta recibida:"),console.log("Status:",r.status),console.log("Status Text:",r.statusText),!r.ok){let e=await r.text();console.error("Error en la respuesta:",e);try{let o=JSON.parse(e);if(console.log("Error parseado:",o),o.message)throw Error(o.message)}catch(e){console.error("Error al parsear respuesta de error:",e)}throw Error("Error al cambiar estado del \xe1rea: ".concat(r.status," - ").concat(e))}let c=await r.json();return console.log("Datos recibidos:",c),{id:c.data.id,nombre:c.data.nombre,estado:c.data.estado?"Activa":"Inactiva",fechaCreacion:c.data.fecha_creacion||"N/A",configuracion_id:c.data.configuracion_id}}catch(e){throw console.error("Error en toggleEstado:",e),e}}static async delete(e){try{console.log("=== Iniciando delete de AreaService ==="),console.log("ID a eliminar:",e);let o="".concat(t.nC.BASE_URL).concat(t.nC.ENDPOINTS.AREAS,"/delete/").concat(e);console.log("URL de la petici\xf3n:",o);let a=(0,t.c4)()||"26plhaQiSc4m6AA6LFUAIP6tllkA2ZdAXF3c5ov5f7a6f932";console.log("Token a utilizar:",a);let r=await fetch(o,{method:"DELETE",headers:{Accept:"application/json",Authorization:"Bearer ".concat(a)}});if(console.log("Respuesta recibida:"),console.log("Status:",r.status),console.log("Status Text:",r.statusText),!r.ok){let e=await r.text();throw console.error("Error en la respuesta:",e),Error("Error al eliminar \xe1rea: ".concat(r.status," - ").concat(e))}return!0}catch(e){return console.error("Error en delete:",e),!1}}}},5695:(e,o,a)=>{var t=a(8999);a.o(t,"useParams")&&a.d(o,{useParams:function(){return t.useParams}}),a.o(t,"usePathname")&&a.d(o,{usePathname:function(){return t.usePathname}}),a.o(t,"useRouter")&&a.d(o,{useRouter:function(){return t.useRouter}}),a.o(t,"useSearchParams")&&a.d(o,{useSearchParams:function(){return t.useSearchParams}})},7550:(e,o,a)=>{a.d(o,{A:()=>t});let t=(0,a(9946).A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},9946:(e,o,a)=>{a.d(o,{A:()=>l});var t=a(2115);let r=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),c=function(){for(var e=arguments.length,o=Array(e),a=0;a<e;a++)o[a]=arguments[a];return o.filter((e,o,a)=>!!e&&""!==e.trim()&&a.indexOf(e)===o).join(" ").trim()};var n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let s=(0,t.forwardRef)((e,o)=>{let{color:a="currentColor",size:r=24,strokeWidth:s=2,absoluteStrokeWidth:l,className:i="",children:d,iconNode:u,...p}=e;return(0,t.createElement)("svg",{ref:o,...n,width:r,height:r,stroke:a,strokeWidth:l?24*Number(s)/Number(r):s,className:c("lucide",i),...p},[...u.map(e=>{let[o,a]=e;return(0,t.createElement)(o,a)}),...Array.isArray(d)?d:[d]])}),l=(e,o)=>{let a=(0,t.forwardRef)((a,n)=>{let{className:l,...i}=a;return(0,t.createElement)(s,{ref:n,iconNode:o,className:c("lucide-".concat(r(e)),l),...i})});return a.displayName="".concat(e),a}}}]);