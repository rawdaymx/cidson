(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7137],{2714:(e,s,i)=>{"use strict";i.d(s,{J:()=>d});var a=i(5155),t=i(2115),r=i(2797),o=i(2085),n=i(3999);let l=(0,o.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=t.forwardRef((e,s)=>{let{className:i,...t}=e;return(0,a.jsx)(r.b,{ref:s,className:(0,n.cn)(l(),i),...t})});d.displayName=r.b.displayName},4055:(e,s,i)=>{"use strict";i.d(s,{Cq:()=>o,mp:()=>t,vH:()=>r});let a=Array.from({length:25},(e,s)=>({id:"checklist-".concat(s+1),nombre:"Checklist de limpieza ".concat(s+1),actividad:"Piso",areasAsociadas:["05"],materialesAsociados:["10"],estado:"activo",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}));async function t(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12,i=arguments.length>2?arguments[2]:void 0;await new Promise(e=>setTimeout(e,500));let t=[...a];i&&(i.estado&&(t=t.filter(e=>e.estado===i.estado)),i.actividad&&(t=t.filter(e=>e.actividad===i.actividad)));let r=t.length,o=(e-1)*s;return{data:t.slice(o,o+s),total:r}}async function r(e){return await new Promise(e=>setTimeout(e,300)),a.find(s=>s.id===e)||null}async function o(e,s){await new Promise(e=>setTimeout(e,800));let i=a.findIndex(s=>s.id===e);return -1===i?null:(a[i]={...a[i],...s,updatedAt:new Date().toISOString()},a[i])}},7168:(e,s,i)=>{"use strict";i.d(s,{$:()=>d});var a=i(5155),t=i(2115),r=i(6634),o=i(2085),n=i(3999);let l=(0,o.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=t.forwardRef((e,s)=>{let{className:i,variant:t,size:o,asChild:d=!1,...c}=e,u=d?r.Slot:"button";return(0,a.jsx)(u,{className:(0,n.cn)(l({variant:t,size:o,className:i})),ref:s,...c})});d.displayName="Button"},8722:(e,s,i)=>{"use strict";i.r(s),i.d(s,{default:()=>v});var a=i(5155),t=i(2115),r=i(5695),o=i(7168),n=i(9852),l=i(2714),d=i(4055),c=i(5691),u=i(9685),f=i(4416);function v(){let e=(0,r.useParams)(),s=(0,r.useRouter)(),i=e.id,[v,m]=(0,t.useState)(null),[h,b]=(0,t.useState)({nombre:"",actividad:"Piso",areasAsociadas:["05"],materialesAsociados:["10"],estado:"activo"}),[g,x]=(0,t.useState)(!0),[p,j]=(0,t.useState)(!1),[y,w]=(0,t.useState)("");(0,t.useEffect)(()=>{(async()=>{try{let e=await (0,d.vH)(i);e?(m(e),b({nombre:e.nombre,actividad:e.actividad,areasAsociadas:e.areasAsociadas,materialesAsociados:e.materialesAsociados,estado:e.estado})):w("Checklist no encontrado")}catch(e){console.error("Error al cargar el checklist:",e),w("Error al cargar los datos del checklist")}finally{x(!1)}})()},[i]);let k=e=>{let{name:s,value:i}=e.target;b(e=>({...e,[s]:i}))},N=async e=>{e.preventDefault(),j(!0),w("");try{await (0,d.Cq)(i,h),s.push("/checklist")}catch(e){console.error("Error al actualizar el checklist:",e),w("Ocurri\xf3 un error al actualizar el checklist. Por favor, int\xe9ntalo de nuevo.")}finally{j(!1)}};return(0,a.jsxs)("div",{className:"flex h-screen bg-[#f8f9fa]",children:[(0,a.jsx)(u.default,{}),(0,a.jsxs)("div",{className:"flex flex-col flex-1 overflow-hidden",children:[(0,a.jsx)(c.default,{}),(0,a.jsx)("main",{className:"flex-1 overflow-y-auto p-6",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6 max-w-2xl mx-auto",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,a.jsx)("h2",{className:"text-xl font-bold",children:"Editar Checklist"}),(0,a.jsx)(o.$,{variant:"ghost",size:"icon",onClick:()=>s.push("/checklist"),children:(0,a.jsx)(f.A,{className:"h-5 w-5"})})]}),g?(0,a.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,a.jsx)("p",{children:"Cargando datos del checklist..."})}):y?(0,a.jsx)("div",{className:"bg-red-50 text-red-600 p-3 rounded-md",children:y}):(0,a.jsxs)("form",{onSubmit:N,children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(l.J,{htmlFor:"nombre",children:"Nombre del checklist"}),(0,a.jsx)(n.p,{id:"nombre",name:"nombre",value:h.nombre,onChange:k,required:!0,className:"mt-1"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(l.J,{htmlFor:"actividad",children:"Actividad"}),(0,a.jsxs)("select",{id:"actividad",name:"actividad",value:h.actividad,onChange:k,className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",children:[(0,a.jsx)("option",{value:"Piso",children:"Piso"}),(0,a.jsx)("option",{value:"Pared",children:"Pared"}),(0,a.jsx)("option",{value:"Techo",children:"Techo"}),(0,a.jsx)("option",{value:"Muebles",children:"Muebles"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(l.J,{htmlFor:"areasAsociadas",children:"\xc1reas asociadas"}),(0,a.jsxs)("select",{id:"areasAsociadas",name:"areasAsociadas",value:h.areasAsociadas[0],onChange:e=>b({...h,areasAsociadas:[e.target.value]}),className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",children:[(0,a.jsx)("option",{value:"05",children:"05"}),(0,a.jsx)("option",{value:"10",children:"10"}),(0,a.jsx)("option",{value:"15",children:"15"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(l.J,{htmlFor:"materialesAsociados",children:"Materiales asociados"}),(0,a.jsxs)("select",{id:"materialesAsociados",name:"materialesAsociados",value:h.materialesAsociados[0],onChange:e=>b({...h,materialesAsociados:[e.target.value]}),className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",children:[(0,a.jsx)("option",{value:"10",children:"10"}),(0,a.jsx)("option",{value:"20",children:"20"}),(0,a.jsx)("option",{value:"30",children:"30"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(l.J,{htmlFor:"estado",children:"Estado"}),(0,a.jsxs)("select",{id:"estado",name:"estado",value:h.estado,onChange:k,className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",children:[(0,a.jsx)("option",{value:"activo",children:"Activo"}),(0,a.jsx)("option",{value:"inactivo",children:"Inactivo"}),(0,a.jsx)("option",{value:"completado",children:"Completado"})]})]})]}),(0,a.jsxs)("div",{className:"flex justify-end gap-3 mt-6",children:[(0,a.jsx)(o.$,{type:"button",variant:"outline",onClick:()=>s.push("/checklist"),children:"Cancelar"}),(0,a.jsx)(o.$,{type:"submit",className:"bg-[#303e65] hover:bg-[#253252]",disabled:p,children:p?"Guardando...":"Guardar cambios"})]})]})]})})]})]})}},9269:(e,s,i)=>{Promise.resolve().then(i.bind(i,8722))},9852:(e,s,i)=>{"use strict";i.d(s,{p:()=>o});var a=i(5155),t=i(2115),r=i(3999);let o=t.forwardRef((e,s)=>{let{className:i,type:t,...o}=e;return(0,a.jsx)("input",{type:t,className:(0,r.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",i),ref:s,...o})});o.displayName="Input"}},e=>{var s=s=>e(e.s=s);e.O(0,[6874,4277,6991,6709,6101,8671,8441,1684,7358],()=>s(9269)),_N_E=e.O()}]);