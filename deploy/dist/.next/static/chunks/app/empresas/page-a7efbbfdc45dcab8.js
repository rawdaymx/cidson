(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[231],{924:(e,a,t)=>{"use strict";t.d(a,{c4:()=>c,e9:()=>n,nC:()=>o});var r=t(9509);let s=()=>"https://cidson.api.production.com",n=()=>s().replace(/\/$/,"");function c(){{let e=localStorage.getItem("auth_token");if(e)return e;let a=sessionStorage.getItem("auth_token");if(a)return a}return null}let o={BASE_URL:r.env.NEXT_PUBLIC_API_URL||"https://cidson.int.qaenv.dev",ENDPOINTS:{LOGIN:"/api/login",EMPRESAS:"/api/empresas",ACTIVIDADES:"/api/actividades",ZONAS:"/api/zonas",AREAS:"/api/areas",METODOS:"/api/metodos",MATERIALES:"/api/materiales",MOTIVOS:"/api/motivos",CHECKLISTS:"/api/checklists"}}},1482:(e,a,t)=>{"use strict";t.d(a,{A:()=>r});let r=(0,t(9946).A)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]])},2657:(e,a,t)=>{"use strict";t.d(a,{A:()=>r});let r=(0,t(9946).A)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},4020:(e,a,t)=>{"use strict";t.d(a,{A:()=>r});let r=(0,t(9946).A)("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]])},4416:(e,a,t)=>{"use strict";t.d(a,{A:()=>r});let r=(0,t(9946).A)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},4590:(e,a,t)=>{"use strict";t.d(a,{default:()=>y});var r=t(5155),s=t(2115),n=t(7924),c=t(1482),o=t(4616),l=t(4020);let i=(0,t(9946).A)("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);var d=t(2657),m=t(5968),u=t(4416),x=t(5695),p=t(5620);function h(e){let{isOpen:a,onClose:t,onConfirm:n,title:c,message:o,confirmText:l="Confirmar",cancelText:i="Cancelar",confirmButtonClass:d="bg-red-600 hover:bg-red-700"}=e,m=(0,s.useRef)(null);return((0,s.useEffect)(()=>{let e=e=>{m.current&&!m.current.contains(e.target)&&t()};return a&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[a,t]),(0,s.useEffect)(()=>{let e=e=>{"Escape"===e.key&&t()};return a&&document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[a,t]),a)?(0,r.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:(0,r.jsxs)("div",{ref:m,className:"w-full max-w-md rounded-lg bg-white shadow-lg",role:"dialog","aria-modal":"true","aria-labelledby":"modal-title",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between border-b border-gray-200 px-6 py-4",children:[(0,r.jsx)("h3",{id:"modal-title",className:"text-lg font-medium text-gray-900",children:c}),(0,r.jsx)("button",{onClick:t,className:"rounded-full p-1 text-gray-400 hover:bg-gray-100 hover:text-gray-500","aria-label":"Cerrar",children:(0,r.jsx)(u.A,{className:"h-5 w-5"})})]}),(0,r.jsx)("div",{className:"px-6 py-4",children:(0,r.jsx)("div",{className:"text-sm text-gray-500",children:o})}),(0,r.jsxs)("div",{className:"flex justify-end gap-3 border-t border-gray-200 px-6 py-4",children:[(0,r.jsx)("button",{type:"button",onClick:t,className:"rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50",children:i}),(0,r.jsx)("button",{type:"button",onClick:n,className:"rounded-md px-4 py-2 text-sm font-medium text-white shadow-sm ".concat(d),children:l})]})]})}):null}function g(e){let{empresa:a,onStatusChange:t}=e,n=(0,x.useRouter)(),[c,o]=(0,s.useState)(!1),[g,b]=(0,s.useState)(!1),[f,y]=(0,s.useState)(!1),j=(0,s.useRef)(null),N=(0,s.useRef)(null);(0,s.useEffect)(()=>{let e=e=>{j.current&&!j.current.contains(e.target)&&N.current&&!N.current.contains(e.target)&&o(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);let v=async()=>{try{b(!0);let e=await p.z.toggleActive(a.id);e&&(null==t||t(e))}catch(e){console.error("Error al cambiar estado de empresa:",e),alert("No se pudo cambiar el estado de la empresa. Por favor, intente nuevamente.")}finally{b(!1),y(!1)}},w="Activo"===a.estado;return(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-card border border-gray-100 p-5 transition-all duration-200 hover:shadow-card-hover",children:[(0,r.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,r.jsx)("h3",{className:"font-semibold text-lg text-gray-800",children:a.nombre}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("button",{ref:N,className:"h-8 w-8 rounded-full flex items-center justify-center hover:bg-gray-100",onClick:()=>o(!c),"aria-label":"Opciones",disabled:g,children:(0,r.jsx)(l.A,{className:"h-4 w-4"})}),c&&(0,r.jsxs)("div",{ref:j,className:"absolute right-0 mt-1 w-48 bg-white rounded-md shadow-lg z-10 overflow-hidden",style:{boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"},children:[(0,r.jsxs)("button",{className:"w-full px-4 py-3 text-left flex items-center hover:bg-gray-50 border-b border-gray-100",onClick:()=>{n.push("/empresas/editar/".concat(a.id)),o(!1)},disabled:g,children:[(0,r.jsx)(i,{className:"mr-3 h-5 w-5 text-[#303e65]"}),(0,r.jsx)("span",{className:"text-gray-700",children:"Editar"})]}),(0,r.jsxs)("button",{className:"w-full px-4 py-3 text-left flex items-center hover:bg-gray-50 border-b border-gray-100",onClick:()=>{n.push("/empresas/detalle/".concat(a.id)),o(!1)},disabled:g,children:[(0,r.jsx)(d.A,{className:"mr-3 h-5 w-5 text-[#303e65]"}),(0,r.jsx)("span",{className:"text-gray-700",children:"Ver detalle"})]}),(0,r.jsxs)("button",{className:"w-full px-4 py-3 text-left flex items-center hover:bg-gray-50 border-b border-gray-100",onClick:()=>{n.push("/empresas/catalogos/".concat(a.id)),o(!1)},disabled:g,children:[(0,r.jsx)(m.A,{className:"mr-3 h-5 w-5 text-[#303e65]"}),(0,r.jsx)("span",{className:"text-gray-700",children:"Ver cat\xe1logos"})]}),(0,r.jsxs)("button",{className:"w-full px-4 py-3 text-left flex items-center hover:bg-gray-50",onClick:()=>{y(!0),o(!1)},disabled:g,children:[(0,r.jsx)(u.A,{className:"mr-3 h-5 w-5 text-[#303e65]"}),(0,r.jsx)("span",{className:"text-gray-700",children:g?"Procesando...":w?"Inactivar":"Activar"})]})]})]})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Raz\xf3n Social"}),(0,r.jsx)("p",{className:"text-sm text-gray-700 font-medium",children:a.razonSocial})]}),(0,r.jsxs)("div",{className:"flex justify-between items-end pt-2 border-t border-gray-100",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Fecha de registro"}),(0,r.jsx)("p",{className:"text-sm text-gray-700",children:a.fecha_creacion||a.fechaRegistro})]}),(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Estado"}),(0,r.jsx)("span",{className:"inline-block px-2 py-1 text-xs font-medium rounded-full ".concat(w?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:a.estado})]})]})]}),(0,r.jsx)(h,{isOpen:f,onClose:()=>y(!1),onConfirm:v,title:"".concat(w?"Inactivar":"Activar"," empresa"),message:(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",{children:["\xbfEst\xe1 seguro que desea ",w?"inactivar":"activar"," la empresa ",(0,r.jsxs)("span",{className:"font-semibold",children:['"',a.nombre,'"']}),"?"]}),w&&(0,r.jsx)("p",{className:"mt-2 text-red-600",children:"Esta acci\xf3n puede afectar a los registros asociados a esta empresa."})]}),confirmText:w?"Inactivar":"Activar",confirmButtonClass:w?"bg-red-600 hover:bg-red-700":"bg-green-600 hover:bg-green-700"})]})}var b=t(6874),f=t.n(b);function y(){let[e,a]=(0,s.useState)([]),[t,l]=(0,s.useState)(""),[i,d]=(0,s.useState)([]),[m,u]=(0,s.useState)([]),[x,h]=(0,s.useState)(!0),[b,y]=(0,s.useState)(null),[j,N]=(0,s.useState)({currentPage:1,totalPages:1,total:0}),v=async a=>{h(!0),y(null);try{let t={...a};e.includes("1")?t.estado=1:e.includes("2")&&(t.estado=0);let{empresas:r,pagination:s}=await p.z.getAll(t);d(r),u(r),N({currentPage:s.current_page,totalPages:s.last_page,total:s.total})}catch(e){console.error("Error al cargar empresas:",e),y("No se pudieron cargar las empresas. Por favor, intente nuevamente.")}finally{h(!1)}};(0,s.useEffect)(()=>{v({nombre:t,page:1})},[e]);let w=()=>{v({nombre:t,page:1})},A=e=>{v({nombre:t,page:e})},E=a=>{let r=i.map(e=>e.id===a.id?a:e);d(r);let s=[...r];t&&(s=s.filter(e=>e.nombre.toLowerCase().includes(t.toLowerCase())||e.razonSocial.toLowerCase().includes(t.toLowerCase()))),e.includes("1")&&(s=s.filter(e=>"Activo"===e.estado)),e.includes("2")&&(s=s.filter(e=>"Inactivo"===e.estado)),u(s)},S=t=>{e.includes(t)?a(e.filter(e=>e!==t)):"1"===t&&e.includes("2")?a(["1"]):"2"===t&&e.includes("1")?a(["2"]):a([...e,t])},k=()=>{a([]),l(""),v()};return(0,r.jsxs)("div",{className:"p-3 sm:p-4 md:p-6 max-w-[1600px] mx-auto",children:[(0,r.jsxs)("div",{className:"mb-4 sm:mb-6 md:mb-8",children:[(0,r.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-800 mb-1 sm:mb-2",children:"Empresas"}),(0,r.jsx)("p",{className:"text-sm sm:text-base text-gray-600",children:"Crea y selecciona la empresa para trabajar con CIDSON"})]}),(0,r.jsx)("div",{className:"bg-white rounded-xl shadow-card p-3 sm:p-4 md:p-5 mb-4 sm:mb-6",children:(0,r.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-3",children:[(0,r.jsxs)("div",{className:"flex items-center mb-3 lg:mb-0",children:[(0,r.jsx)("span",{className:"text-xl sm:text-2xl font-bold text-[#f5d538] mr-2",children:j.total}),(0,r.jsx)("span",{className:"text-sm sm:text-base text-gray-600 font-medium",children:"REGISTROS"})]}),(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3 w-full lg:w-auto",children:[(0,r.jsxs)("div",{className:"flex flex-wrap items-center gap-2 w-full sm:w-auto",children:[(0,r.jsxs)("div",{className:"relative w-full sm:w-56",children:[(0,r.jsx)("input",{type:"text",placeholder:"Buscar empresa...",className:"pl-9 bg-gray-50 border border-gray-200 rounded-md w-full p-2 text-sm",value:t,onChange:e=>l(e.target.value),onKeyDown:e=>"Enter"===e.key&&w()}),(0,r.jsx)(n.A,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-gray-400 cursor-pointer",onClick:w})]}),(0,r.jsxs)("div",{className:"hidden sm:flex sm:flex-wrap sm:items-center sm:gap-2",children:[(0,r.jsxs)("button",{className:"px-3 py-2 text-sm rounded-md border border-[#00b276] text-[#00b276] ".concat(e.includes("1")?"bg-green-50":""),onClick:()=>S("1"),children:["Activas ",e.includes("1")&&(0,r.jsx)("span",{className:"ml-1",children:"✓"})]}),(0,r.jsxs)("button",{className:"px-3 py-2 text-sm rounded-md border border-[#00b276] text-[#00b276] ".concat(e.includes("2")?"bg-green-50":""),onClick:()=>S("2"),children:["Inactivas ",e.includes("2")&&(0,r.jsx)("span",{className:"ml-1",children:"✓"})]}),(0,r.jsxs)("button",{className:"px-3 py-2 text-sm rounded-md border border-gray-300 flex items-center",onClick:k,disabled:0===e.length&&!t,children:[(0,r.jsx)(c.A,{className:"mr-1 h-4 w-4"})," Limpiar"]})]})]}),(0,r.jsxs)("div",{className:"flex sm:hidden flex-wrap items-center gap-2 w-full",children:[(0,r.jsxs)("button",{className:"flex-1 px-3 py-2 text-sm rounded-md border border-[#00b276] text-[#00b276] ".concat(e.includes("1")?"bg-green-50":""),onClick:()=>S("1"),children:["Activas ",e.includes("1")&&(0,r.jsx)("span",{className:"ml-1",children:"✓"})]}),(0,r.jsxs)("button",{className:"flex-1 px-3 py-2 text-sm rounded-md border border-[#00b276] text-[#00b276] ".concat(e.includes("2")?"bg-green-50":""),onClick:()=>S("2"),children:["Inactivas ",e.includes("2")&&(0,r.jsx)("span",{className:"ml-1",children:"✓"})]}),(0,r.jsxs)("button",{className:"flex-1 px-3 py-2 text-sm rounded-md border border-gray-300 flex items-center justify-center",onClick:k,disabled:0===e.length&&!t,children:[(0,r.jsx)(c.A,{className:"mr-1 h-4 w-4"})," Limpiar"]})]}),(0,r.jsxs)(f(),{href:"/empresas/nueva",className:"px-4 py-2 text-sm rounded-md bg-[#303e65] text-white flex items-center justify-center sm:justify-start w-full sm:w-auto sm:ml-auto",children:[(0,r.jsx)(o.A,{className:"mr-1 h-4 w-4"})," Nueva Empresa"]})]})]})}),x?(0,r.jsx)("div",{className:"text-center py-12",children:(0,r.jsx)("p",{className:"text-gray-500 text-lg",children:"Cargando empresas..."})}):b?(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)("p",{className:"text-red-500 text-lg",children:b}),(0,r.jsx)("button",{className:"mt-4 px-4 py-2 rounded-md border border-gray-300",onClick:()=>v(),children:"Reintentar"})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3 sm:gap-4 md:gap-5",children:m.map(e=>(0,r.jsx)(g,{empresa:e,onStatusChange:E},e.id))}),0===m.length&&(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)("p",{className:"text-gray-500 text-lg",children:"No se encontraron empresas con los filtros aplicados"}),(0,r.jsx)("button",{className:"mt-4 px-4 py-2 rounded-md border border-gray-300",onClick:k,disabled:0===e.length&&!t,children:"Limpiar filtros"})]})]}),m.length>0&&(0,r.jsx)("div",{className:"flex justify-center mt-6 sm:mt-8 md:mt-10",children:(0,r.jsxs)("div",{className:"flex flex-wrap items-center justify-center gap-1 text-sm",children:[(0,r.jsx)("button",{className:"px-2 sm:px-3 py-1 text-gray-500 text-xs sm:text-sm",onClick:()=>A(1),disabled:1===j.currentPage,children:"\xab Primera"}),(0,r.jsx)("button",{className:"px-2 sm:px-3 py-1 text-gray-500 text-xs sm:text-sm",onClick:()=>A(j.currentPage-1),disabled:1===j.currentPage,children:"‹ Anterior"}),Array.from({length:j.totalPages},(e,a)=>a+1).map(e=>(0,r.jsx)("button",{className:"px-2 sm:px-3 py-1 ".concat(e===j.currentPage?"bg-[#303e65] text-white":"text-gray-500"," rounded-md text-xs sm:text-sm"),onClick:()=>A(e),children:e},e)),(0,r.jsx)("button",{className:"px-2 sm:px-3 py-1 text-gray-500 text-xs sm:text-sm",onClick:()=>A(j.currentPage+1),disabled:j.currentPage===j.totalPages,children:"Siguiente ›"}),(0,r.jsx)("button",{className:"px-2 sm:px-3 py-1 text-gray-500 text-xs sm:text-sm",onClick:()=>A(j.totalPages),disabled:j.currentPage===j.totalPages,children:"\xdaltima \xbb"})]})})]})}},4616:(e,a,t)=>{"use strict";t.d(a,{A:()=>r});let r=(0,t(9946).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},5620:(e,a,t)=>{"use strict";t.d(a,{z:()=>s});var r=t(924);class s{static async getAll(e){try{let a="".concat(r.nC.BASE_URL).concat(r.nC.ENDPOINTS.EMPRESAS);if(e){let t=new URLSearchParams;e.nombre&&t.append("nombre",e.nombre),void 0!==e.estado&&t.append("estado",e.estado.toString()),e.fecha_inicio&&t.append("fecha_inicio",e.fecha_inicio),e.fecha_fin&&t.append("fecha_fin",e.fecha_fin),e.page&&t.append("page",e.page.toString());let r=t.toString();r&&(a+="?".concat(r))}let t=(0,r.c4)()||"yBPONqL0SH66XBKyfXu2ouwayDl7qaCn05ODKAioebfbd8ad",s=await fetch(a,{method:"GET",headers:{Accept:"application/json",Authorization:"Bearer ".concat(t)}});if(!s.ok)throw Error("Error al obtener empresas: ".concat(s.statusText));let n=await s.json();return console.log("Respuesta de la API (getAll):",n),{empresas:n.data.map(e=>({id:e.id,nombre:e.nombre,razonSocial:e.razon_social,fechaRegistro:new Date().toLocaleDateString(),fecha_creacion:e.fecha_creacion,estado:e.estado?"Activo":"Inactivo",configuracion_id:e.configuracion_id})),pagination:n.meta}}catch(e){return console.error("Error al obtener empresas:",e),{empresas:[],pagination:{current_page:1,from:0,last_page:1,links:[],path:"",per_page:10,to:0,total:0}}}}static async create(e){try{let a="".concat(r.nC.BASE_URL).concat(r.nC.ENDPOINTS.EMPRESAS),t=(0,r.c4)()||"yBPONqL0SH66XBKyfXu2ouwayDl7qaCn05ODKAioebfbd8ad",s={nombre:e.nombre,razon_social:e.razon_social},n=await fetch(a,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify(s)});if(!n.ok){let e=await n.json();throw Error(e.message||"Error al crear empresa: ".concat(n.statusText))}let c=await n.json();return console.log("Respuesta de la API (create):",c),{id:c.data.id,nombre:c.data.nombre,razonSocial:c.data.razon_social,fechaRegistro:new Date().toLocaleDateString(),fecha_creacion:c.data.fecha_creacion,estado:c.data.estado?"Activo":"Inactivo",configuracion_id:c.data.configuracion_id}}catch(e){throw console.error("Error al crear empresa:",e),e}}static async getById(e){try{let a="".concat(r.nC.BASE_URL).concat(r.nC.ENDPOINTS.EMPRESAS,"/").concat(e),t=(0,r.c4)()||"yBPONqL0SH66XBKyfXu2ouwayDl7qaCn05ODKAioebfbd8ad",s=await fetch(a,{method:"GET",headers:{Accept:"application/json",Authorization:"Bearer ".concat(t)}});if(!s.ok){if(404===s.status)return;throw Error("Error al obtener empresa: ".concat(s.statusText))}let n=await s.json();return console.log("Respuesta de la API (getById):",n),{id:n.data.id,nombre:n.data.nombre,razonSocial:n.data.razon_social,fechaRegistro:new Date().toLocaleDateString(),fecha_creacion:n.data.fecha_creacion,estado:n.data.estado?"Activo":"Inactivo",configuracion_id:n.data.configuracion_id}}catch(e){console.error("Error al obtener empresa por ID:",e);return}}static async update(e,a){try{let t="".concat(r.nC.BASE_URL).concat(r.nC.ENDPOINTS.EMPRESAS,"/").concat(e),s=(0,r.c4)()||"yBPONqL0SH66XBKyfXu2ouwayDl7qaCn05ODKAioebfbd8ad",n={nombre:a.nombre,razon_social:a.razon_social},c=await fetch(t,{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer ".concat(s)},body:JSON.stringify(n)});if(!c.ok){if(404===c.status)return;let e=await c.json();if(422===c.status&&e.errors){let a=Error(e.message||"Error de validaci\xf3n");throw a.validationErrors=e.errors,a}throw Error(e.message||"Error al actualizar empresa: ".concat(c.statusText))}let o=await c.json();return console.log("Respuesta de la API (update):",o),{id:o.data.id,nombre:o.data.nombre,razonSocial:o.data.razon_social,fechaRegistro:new Date().toLocaleDateString(),fecha_creacion:o.data.fecha_creacion,estado:o.data.estado?"Activo":"Inactivo",configuracion_id:o.data.configuracion_id}}catch(e){throw console.error("Error al actualizar empresa:",e),e}}static async toggleActive(e){try{let a="".concat(r.nC.BASE_URL).concat(r.nC.ENDPOINTS.EMPRESAS,"/").concat(e),t=(0,r.c4)()||"yBPONqL0SH66XBKyfXu2ouwayDl7qaCn05ODKAioebfbd8ad",s=await fetch(a,{method:"DELETE",headers:{Accept:"application/json",Authorization:"Bearer ".concat(t)}});if(!s.ok){if(404===s.status)return;throw Error("Error al cambiar estado de empresa: ".concat(s.statusText))}let n=await s.json();return console.log("Respuesta de la API (toggleActive):",n),{id:n.data.id,nombre:n.data.nombre,razonSocial:n.data.razon_social,fechaRegistro:new Date().toLocaleDateString(),fecha_creacion:n.data.fecha_creacion,estado:n.data.estado?"Activo":"Inactivo",configuracion_id:n.data.configuracion_id}}catch(e){throw console.error("Error al cambiar estado de empresa:",e),e}}}},5695:(e,a,t)=>{"use strict";var r=t(8999);t.o(r,"useParams")&&t.d(a,{useParams:function(){return r.useParams}}),t.o(r,"usePathname")&&t.d(a,{usePathname:function(){return r.usePathname}}),t.o(r,"useRouter")&&t.d(a,{useRouter:function(){return r.useRouter}}),t.o(r,"useSearchParams")&&t.d(a,{useSearchParams:function(){return r.useSearchParams}})},5968:(e,a,t)=>{"use strict";t.d(a,{A:()=>r});let r=(0,t(9946).A)("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]])},7924:(e,a,t)=>{"use strict";t.d(a,{A:()=>r});let r=(0,t(9946).A)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},9093:(e,a,t)=>{Promise.resolve().then(t.bind(t,4590))},9946:(e,a,t)=>{"use strict";t.d(a,{A:()=>l});var r=t(2115);let s=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n=function(){for(var e=arguments.length,a=Array(e),t=0;t<e;t++)a[t]=arguments[t];return a.filter((e,a,t)=>!!e&&""!==e.trim()&&t.indexOf(e)===a).join(" ").trim()};var c={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let o=(0,r.forwardRef)((e,a)=>{let{color:t="currentColor",size:s=24,strokeWidth:o=2,absoluteStrokeWidth:l,className:i="",children:d,iconNode:m,...u}=e;return(0,r.createElement)("svg",{ref:a,...c,width:s,height:s,stroke:t,strokeWidth:l?24*Number(o)/Number(s):o,className:n("lucide",i),...u},[...m.map(e=>{let[a,t]=e;return(0,r.createElement)(a,t)}),...Array.isArray(d)?d:[d]])}),l=(e,a)=>{let t=(0,r.forwardRef)((t,c)=>{let{className:l,...i}=t;return(0,r.createElement)(o,{ref:c,iconNode:a,className:n("lucide-".concat(s(e)),l),...i})});return t.displayName="".concat(e),t}}},e=>{var a=a=>e(e.s=a);e.O(0,[6874,8441,1684,7358],()=>a(9093)),_N_E=e.O()}]);