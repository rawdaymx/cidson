(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[175],{4229:(e,r,a)=>{"use strict";a.d(r,{A:()=>s});let s=(0,a(9946).A)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},5339:(e,r,a)=>{"use strict";a.d(r,{A:()=>s});let s=(0,a(9946).A)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},6415:(e,r,a)=>{Promise.resolve().then(a.bind(a,6576))},6576:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>u});var s=a(5155),t=a(2115),n=a(5695),l=a(7550),i=a(5339),o=a(4229),m=a(6874),d=a.n(m),c=a(4888);function u(){let e=(0,n.useRouter)(),r=Number((0,n.useParams)().id),[a,m]=(0,t.useState)({nombre:""}),[u,x]=(0,t.useState)({nombre:""}),[b,h]=(0,t.useState)(!0),[f,y]=(0,t.useState)(!1);(0,t.useEffect)(()=>{let a=async()=>{try{h(!0);let a=await c.x.getById(r);a?m({nombre:a.nombre}):(console.error("\xc1rea no encontrada"),e.push("/areas"))}catch(e){console.error("Error al cargar el \xe1rea:",e),x({...u,nombre:"Error al cargar la informaci\xf3n del \xe1rea. Por favor, intente nuevamente."})}finally{h(!1)}};r&&a()},[r,e,u]);let p=()=>{let e=!0,r={nombre:""};return a.nombre.trim()||(r.nombre="El nombre del \xe1rea es requerido",e=!1),x(r),e},g=async s=>{if(s.preventDefault(),p())try{y(!0),await c.x.update(r,{nombre:a.nombre.trim()});let s=new URLSearchParams(window.location.search).get("empresaId");e.push(s?"/areas?empresaId=".concat(s):"/areas")}catch(e){console.error("Error al actualizar el \xe1rea:",e),e.message&&(e.message.includes("nombre has already been taken")||e.message.includes("ya existe")||e.message.includes("ya ha sido tomado"))?x({...u,nombre:"El nombre del \xe1rea ya existe. Por favor, utilice otro nombre."}):x({...u,nombre:e.message||"Ocurri\xf3 un error al actualizar el \xe1rea. Por favor, intente nuevamente."})}finally{y(!1)}};return b?(0,s.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-[#f4f6fb]",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"w-16 h-16 border-4 border-[#303e65] border-t-[#f5d433] rounded-full animate-spin mx-auto"}),(0,s.jsx)("p",{className:"mt-4 text-gray-600",children:"Cargando informaci\xf3n..."})]})}):(0,s.jsx)("div",{className:"bg-[#f4f6fb] min-h-screen",children:(0,s.jsxs)("div",{className:"pl-8 pr-6 py-6 max-w-[1200px]",children:[(0,s.jsxs)(d(),{href:"/areas",className:"inline-flex items-center text-[#303e65] mb-6",children:[(0,s.jsx)(l.A,{className:"h-4 w-4 mr-2"}),"Regresar"]}),(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Editar registro"}),(0,s.jsx)("p",{className:"text-gray-600 mb-8",children:"Edita el \xe1rea seleccionada."}),(0,s.jsx)("div",{className:"bg-white rounded-xl p-8 shadow-sm max-w-[800px] mx-auto",children:(0,s.jsxs)("form",{onSubmit:g,children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("input",{type:"text",id:"nombre",name:"nombre",placeholder:"Nombre Del \xc1rea",value:a.nombre,onChange:e=>{let{name:r,value:s}=e.target;m({...a,[r]:s}),u[r]&&x({...u,[r]:""})},className:"w-full h-12 px-4 bg-[#f4f6fb] rounded-md border-0 focus:ring-2 focus:ring-[#303e65] ".concat(u.nombre?"ring-2 ring-red-500":"")}),u.nombre&&(0,s.jsxs)("div",{className:"mt-2 flex items-start text-sm text-red-500",children:[(0,s.jsx)(i.A,{className:"h-4 w-4 mr-1 mt-0.5 flex-shrink-0"}),(0,s.jsx)("p",{children:u.nombre})]})]}),(0,s.jsx)("div",{className:"flex justify-end mt-8",children:(0,s.jsx)("button",{type:"submit",disabled:f,className:"flex items-center justify-center bg-[#f5d433] text-[#303e65] font-medium px-6 py-2.5 rounded-full hover:bg-[#f0ca20] transition-colors disabled:opacity-70",children:f?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"w-4 h-4 border-2 border-[#303e65] border-t-transparent rounded-full animate-spin mr-2"}),"Guardando..."]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.A,{className:"h-5 w-5 mr-2"}),"Guardar"]})})})]})})]})})}}},e=>{var r=r=>e(e.s=r);e.O(0,[6874,938,8441,1684,7358],()=>r(6415)),_N_E=e.O()}]);