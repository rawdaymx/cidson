(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5283],{4229:(e,r,a)=>{"use strict";a.d(r,{A:()=>t});let t=(0,a(9946).A)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},4651:(e,r,a)=>{Promise.resolve().then(a.bind(a,5480))},5480:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>d});var t=a(5155),s=a(2115),n=a(5695),l=a(7550),i=a(4229),o=a(4888);function d(){let e=(0,n.useRouter)(),r=(0,n.useSearchParams)(),a=r.get("empresaId"),d=r.get("returnTo"),[c,m]=(0,s.useState)(""),[u,x]=(0,s.useState)(""),[p,h]=(0,s.useState)(!1),f=async r=>{if(r.preventDefault(),!c.trim()){x("El nombre del \xe1rea es requerido");return}if(!a){x("No se proporcion\xf3 ID de empresa");return}h(!0),x("");try{if(await o.x.create({nombre:c.trim(),configuracion_id:Number(a)})){let r=new URLSearchParams;a&&r.append("empresaId",a),d&&r.append("returnTo",d),e.push("/areas?".concat(r.toString()))}}catch(e){console.error("Error al crear \xe1rea:",e),e instanceof Error?e.message.includes("ya existe")?x("El nombre del \xe1rea ya existe. Por favor, utilice otro nombre."):x(e.message||"Error al crear el \xe1rea. Por favor, intente nuevamente."):x("Error al crear el \xe1rea. Por favor, intente nuevamente.")}finally{h(!1)}};return(0,t.jsxs)("div",{className:"p-3 sm:p-4 md:p-6 max-w-[1600px] mx-auto",children:[(0,t.jsxs)("div",{className:"mb-4 sm:mb-6 md:mb-8",children:[(0,t.jsxs)("a",{href:(()=>{let e=new URLSearchParams;return a&&e.append("empresaId",a),d&&e.append("returnTo",d),"/areas".concat(e.toString()?"?".concat(e.toString()):"")})(),className:"inline-flex items-center text-[#303e65] hover:text-[#1a2540] transition-colors",children:[(0,t.jsx)(l.A,{className:"mr-1 h-4 w-4"}),(0,t.jsx)("span",{children:"Regresar"})]}),(0,t.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-800 mt-4",children:"Nueva \xc1rea"}),(0,t.jsx)("p",{className:"text-sm sm:text-base text-gray-600",children:"Crea una nueva \xe1rea para CIDSON."})]}),(0,t.jsx)("div",{className:"bg-white rounded-xl p-8 shadow-sm max-w-[800px] mx-auto",children:(0,t.jsxs)("form",{onSubmit:f,children:[(0,t.jsx)("div",{className:"space-y-6",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("input",{type:"text",id:"nombre",name:"nombre",placeholder:"Nombre Del \xc1rea",value:c,onChange:e=>{m(e.target.value),e.target.value.trim()&&x("")},className:"w-full h-12 px-4 bg-[#f4f6fb] rounded-md border-0 focus:ring-2 focus:ring-[#303e65] ".concat(u?"ring-2 ring-red-500":"")}),u&&(0,t.jsx)("p",{className:"mt-1 text-sm text-red-500",children:u})]})}),(0,t.jsx)("div",{className:"flex justify-end mt-8",children:(0,t.jsx)("button",{type:"submit",disabled:p,className:"flex items-center justify-center bg-[#f5d433] text-[#303e65] font-medium px-6 py-2.5 rounded-full hover:bg-[#f0ca20] transition-colors disabled:opacity-70",children:p?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"w-4 h-4 border-2 border-[#303e65] border-t-transparent rounded-full animate-spin mr-2"}),"Guardando..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.A,{className:"h-5 w-5 mr-2"}),"Guardar"]})})})]})})]})}}},e=>{var r=r=>e(e.s=r);e.O(0,[938,8441,1684,7358],()=>r(4651)),_N_E=e.O()}]);