"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[205],{2657:(e,r,s)=>{s.d(r,{A:()=>a});let a=(0,s(9946).A)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},3480:(e,r,s)=>{s.d(r,{default:()=>d});var a=s(5155),t=s(2115),l=s(6766),n=s(5695);let c=(0,s(9946).A)("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);var o=s(2657),i=s(9852);function d(e){let{token:r}=e,s=(0,n.useRouter)(),[d,u]=(0,t.useState)({password:"",confirmPassword:""}),[m,f]=(0,t.useState)(!1),[x,p]=(0,t.useState)(!1),[h,g]=(0,t.useState)(!1),[b,j]=(0,t.useState)({password:"",confirmPassword:"",general:""}),[y,v]=(0,t.useState)(!1),[N,w]=(0,t.useState)(!0);(0,t.useEffect)(()=>{r&&r.length<5&&w(!1)},[r]);let k=e=>/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[!@#$%^&*()_+\-=[\]{};':"\\|,.<>/?]).{8,}$/.test(e),P=e=>{let{name:r,value:s}=e.target;u({...d,[r]:s}),b[r]&&j({...b,[r]:""})};return N?(0,a.jsxs)("div",{className:"flex h-screen",children:[(0,a.jsx)("div",{className:"w-full lg:w-1/2 flex flex-col justify-center items-center p-8 lg:p-16",children:(0,a.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,a.jsx)("div",{className:"flex flex-col items-center",children:(0,a.jsxs)("div",{className:"text-center mb-4",children:[(0,a.jsxs)("span",{className:"text-4xl font-bold",children:[(0,a.jsx)("span",{className:"text-yellow-400",children:"C"}),(0,a.jsx)("span",{className:"text-[#303e65]",children:"IDSON"})]}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Clean Industrial And Domestic Solutions"})]})}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"Cambio de contrase\xf1a"}),(0,a.jsxs)("div",{className:"text-gray-500 text-sm",children:[(0,a.jsx)("p",{className:"font-medium",children:"Tu contrase\xf1a tendr\xe1 que contar con:"}),(0,a.jsx)("p",{className:"mt-1",children:"8 o m\xe1s caracteres, 1 may\xfascula y 1 min\xfascula, 1 n\xfamero, 1 car\xe1cter especial (e.g !@#$%&*(_) y sin espaciados."})]})]}),y?(0,a.jsxs)("div",{className:"bg-green-50 border border-green-200 text-green-700 p-4 rounded-md",children:[(0,a.jsx)("p",{className:"font-medium",children:"\xa1Contrase\xf1a actualizada!"}),(0,a.jsx)("p",{className:"mt-2",children:"Tu contrase\xf1a ha sido actualizada correctamente. Ser\xe1s redirigido a la p\xe1gina de inicio de sesi\xf3n."})]}):(0,a.jsxs)("form",{className:"space-y-6",onSubmit:e=>{e.preventDefault();let r=!0,a={password:"",confirmPassword:"",general:""};if(k(d.password)||(a.password="La contrase\xf1a no cumple con los requisitos",r=!1),d.password!==d.confirmPassword&&(a.confirmPassword="Las contrase\xf1as no coinciden",r=!1),!r){j(a);return}g(!0),setTimeout(()=>{g(!1),v(!0),setTimeout(()=>{s.push("/login")},2e3)},1500)},children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(i.p,{id:"password",name:"password",type:m?"text":"password",placeholder:"Nueva contrase\xf1a",className:"bg-gray-50 border-gray-200 pr-10",value:d.password,onChange:P,disabled:h}),(0,a.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>f(!m),children:m?(0,a.jsx)(c,{className:"h-5 w-5 text-gray-400"}):(0,a.jsx)(o.A,{className:"h-5 w-5 text-gray-400"})})]}),b.password&&(0,a.jsx)("p",{className:"mt-1 text-sm text-red-500",children:b.password})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(i.p,{id:"confirmPassword",name:"confirmPassword",type:x?"text":"password",placeholder:"Confirmar nueva contrase\xf1a",className:"bg-gray-50 border-gray-200 pr-10",value:d.confirmPassword,onChange:P,disabled:h}),(0,a.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>p(!x),children:x?(0,a.jsx)(c,{className:"h-5 w-5 text-gray-400"}):(0,a.jsx)(o.A,{className:"h-5 w-5 text-gray-400"})})]}),b.confirmPassword&&(0,a.jsx)("p",{className:"mt-1 text-sm text-red-500",children:b.confirmPassword})]}),b.general&&(0,a.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-700 p-3 rounded-md text-sm",children:b.general}),(0,a.jsx)("button",{type:"submit",className:"w-full py-3 bg-[#FFCB05] hover:bg-[#e6b700] text-black font-medium rounded-md transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#FFCB05] flex items-center justify-center",disabled:h,children:h?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"mr-2",children:"Procesando"}),(0,a.jsx)("div",{className:"h-4 w-4 rounded-full border-2 border-black border-t-transparent animate-spin"})]}):"Aceptar"})]})]})}),(0,a.jsx)("div",{className:"hidden lg:block lg:w-1/2 relative",children:(0,a.jsx)(l.default,{src:"/images/background.jpeg",alt:"CIDSON Background",fill:!0,style:{objectFit:"cover"},priority:!0})})]}):(0,a.jsxs)("div",{className:"flex h-screen",children:[(0,a.jsx)("div",{className:"w-full lg:w-1/2 flex flex-col justify-center items-center p-8 lg:p-16",children:(0,a.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,a.jsx)("div",{className:"flex flex-col items-center",children:(0,a.jsx)(l.default,{src:"/images/logo.png",alt:"CIDSON Logo",width:300,height:100,priority:!0,className:"mb-8"})}),(0,a.jsxs)("div",{className:"bg-red-50 border border-red-200 text-red-700 p-4 rounded-md",children:[(0,a.jsx)("p",{className:"font-medium",children:"Enlace inv\xe1lido o expirado"}),(0,a.jsx)("p",{className:"mt-2",children:"El enlace para restablecer tu contrase\xf1a es inv\xe1lido o ha expirado. Por favor, solicita un nuevo enlace de recuperaci\xf3n."})]}),(0,a.jsx)("button",{onClick:()=>s.push("/recuperar-contrasena"),className:"w-full py-3 bg-[#FFCB05] hover:bg-[#e6b700] text-black font-medium rounded-md transition-colors",children:"Solicitar nuevo enlace"})]})}),(0,a.jsx)("div",{className:"hidden lg:block lg:w-1/2 relative",children:(0,a.jsx)(l.default,{src:"/images/background.jpeg",alt:"CIDSON Background",fill:!0,style:{objectFit:"cover"},priority:!0})})]})}},3999:(e,r,s)=>{s.d(r,{cn:()=>l});var a=s(2596),t=s(9688);function l(){for(var e=arguments.length,r=Array(e),s=0;s<e;s++)r[s]=arguments[s];return(0,t.QP)((0,a.$)(r))}},5695:(e,r,s)=>{var a=s(8999);s.o(a,"useParams")&&s.d(r,{useParams:function(){return a.useParams}}),s.o(a,"usePathname")&&s.d(r,{usePathname:function(){return a.usePathname}}),s.o(a,"useRouter")&&s.d(r,{useRouter:function(){return a.useRouter}}),s.o(a,"useSearchParams")&&s.d(r,{useSearchParams:function(){return a.useSearchParams}})},6654:(e,r,s)=>{Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"useMergedRef",{enumerable:!0,get:function(){return t}});let a=s(2115);function t(e,r){let s=(0,a.useRef)(null),t=(0,a.useRef)(null);return(0,a.useCallback)(a=>{if(null===a){let e=s.current;e&&(s.current=null,e());let r=t.current;r&&(t.current=null,r())}else e&&(s.current=l(e,a)),r&&(t.current=l(r,a))},[e,r])}function l(e,r){if("function"!=typeof e)return e.current=r,()=>{e.current=null};{let s=e(r);return"function"==typeof s?s:()=>e(null)}}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),e.exports=r.default)},9852:(e,r,s)=>{s.d(r,{p:()=>n});var a=s(5155),t=s(2115),l=s(3999);let n=t.forwardRef((e,r)=>{let{className:s,type:t,...n}=e;return(0,a.jsx)("input",{type:t,className:(0,l.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:r,...n})});n.displayName="Input"},9946:(e,r,s)=>{s.d(r,{A:()=>o});var a=s(2115);let t=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),l=function(){for(var e=arguments.length,r=Array(e),s=0;s<e;s++)r[s]=arguments[s];return r.filter((e,r,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===r).join(" ").trim()};var n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let c=(0,a.forwardRef)((e,r)=>{let{color:s="currentColor",size:t=24,strokeWidth:c=2,absoluteStrokeWidth:o,className:i="",children:d,iconNode:u,...m}=e;return(0,a.createElement)("svg",{ref:r,...n,width:t,height:t,stroke:s,strokeWidth:o?24*Number(c)/Number(t):c,className:l("lucide",i),...m},[...u.map(e=>{let[r,s]=e;return(0,a.createElement)(r,s)}),...Array.isArray(d)?d:[d]])}),o=(e,r)=>{let s=(0,a.forwardRef)((s,n)=>{let{className:o,...i}=s;return(0,a.createElement)(c,{ref:n,iconNode:r,className:l("lucide-".concat(t(e)),o),...i})});return s.displayName="".concat(e),s}}}]);